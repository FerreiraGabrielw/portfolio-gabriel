<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gabriel Ferreira">
<meta name="dcterms.date" content="2025-06-04">

<title>Projeto de Clusterização: Análise de Leads do Quiz Casal Próspero</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="AnaliseMarketingCasalProspero_files/libs/clipboard/clipboard.min.js"></script>
<script src="AnaliseMarketingCasalProspero_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="AnaliseMarketingCasalProspero_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="AnaliseMarketingCasalProspero_files/libs/quarto-html/popper.min.js"></script>
<script src="AnaliseMarketingCasalProspero_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="AnaliseMarketingCasalProspero_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="AnaliseMarketingCasalProspero_files/libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="AnaliseMarketingCasalProspero_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="AnaliseMarketingCasalProspero_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="AnaliseMarketingCasalProspero_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script type="text/javascript">
window.PlotlyConfig = {MathJaxConfig: 'local'};
if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
if (typeof require !== 'undefined') {
require.undef("plotly");
requirejs.config({
    paths: {
        'plotly': ['https://cdn.plot.ly/plotly-2.12.1.min']
    }
});
require(['plotly'], function(Plotly) {
    window._Plotly = Plotly;
});
}
</script>



</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full">

<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Projeto de Clusterização: Análise de Leads do Quiz Casal Próspero</h1>
</div>



<div class="quarto-title-meta column-page">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Gabriel Ferreira </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 4, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introdução" class="level1">
<h1>Introdução</h1>
<p>Analisar de dados coletados através de um quiz interativo, focado em casais planejando seu casamento. O intuito principal é segmentar esses leads para entender melhor seus perfis, necessidades e estágio no planejamento.</p>
<p>O objetivo principal foi utilizar técnicas de aprendizado não supervisionado (clusterização) para identificar grupos distintos de casais com base em suas respostas, permitindo a criação de estratégias de marketing mais eficazes e personalizadas.</p>
</section>
<section id="estrutura-do-projeto" class="level1">
<h1>Estrutura do Projeto</h1>
<p>O desenvolvimento deste projeto seguiu uma metodologia estruturada e iterativa, abrangendo desde a coleta e preparação dos dados até a avaliação e interpretação dos resultados.</p>
<section id="coleta-e-preparação-de-dados" class="level2">
<h2 data-anchor-id="coleta-e-preparação-de-dados">Coleta e Preparação de Dados</h2>
<p>A fase inicial envolveu a consolidação e a limpeza dos dados. Os leads foram coletados de três fontes distintas, exigindo um processo de unificação e padronização para garantir a qualidade do dataset.</p>
<section id="carregamento-e-concatenação-dos-dados" class="level3">
<h3 data-anchor-id="carregamento-e-concatenação-dos-dados">Carregamento e Concatenação dos Dados</h3>
<ul>
<li>Fonte dos Dados: Coleta de respostas de um quiz online, distribuídas em 03 arquivos CSV.</li>
<li>Carregamento e Unificação: Leitura dos diferentes arquivos e consolidação em um único conjunto de dados.</li>
</ul>
<section id="carrega-os-datasets-5-primeiras-linhas-do-df01" class="level6">
<h6 data-anchor-id="carrega-os-datasets-5-primeiras-linhas-do-df01">Carrega os datasets + 5 primeiras linhas do df01:</h6>
<div id="44d2d2ac" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>df_01 <span class="op">=</span> pd.read_csv(<span class="st">'leads_funil-casamento_df1.csv'</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>df_02 <span class="op">=</span> pd.read_csv(<span class="st">'leads_funil-casamento_df2.csv'</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>df_03 <span class="op">=</span> pd.read_csv(<span class="st">'leads_funil-casamento_df3.csv'</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>df_01.head(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="2">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">code</th>
<th data-quarto-table-cell-role="th">created_at</th>
<th data-quarto-table-cell-role="th">button: oQcJxV</th>
<th data-quarto-table-cell-role="th">options: opcoes_UAa9JQ</th>
<th data-quarto-table-cell-role="th">button: 0FvZw6</th>
<th data-quarto-table-cell-role="th">options: opcoes_KxEbYn</th>
<th data-quarto-table-cell-role="th">options: opcoes_iSdQa9</th>
<th data-quarto-table-cell-role="th">options: opcoes_GZPJo1</th>
<th data-quarto-table-cell-role="th">options: opcoes_n5nnNG</th>
<th data-quarto-table-cell-role="th">options: opcoes_G7CtE4</th>
<th data-quarto-table-cell-role="th">options: opcoes_euOjgt</th>
<th data-quarto-table-cell-role="th">options: opcoes_3FPmNX</th>
<th data-quarto-table-cell-role="th">options: opcoes_kGxmr1</th>
<th data-quarto-table-cell-role="th">field: 11ABFZ</th>
<th data-quarto-table-cell-role="th">field: 3hxWeL</th>
<th data-quarto-table-cell-role="th">field: 5fSLVc</th>
<th data-quarto-table-cell-role="th">button: enviar</th>
<th data-quarto-table-cell-role="th">tracking</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>OdFIeA</td>
<td>30/04/2025 08:44:26</td>
<td>clicked</td>
<td>NaN</td>
<td>NaN</td>
<td>(A) Ainda estamos completamente perdidos sobre...</td>
<td>(B) Conseguimos nos manter, mas não sobra</td>
<td>(B) Está envolvido(a), mas prefere que eu lidere</td>
<td>(C) Criamos um planejamento inicial, mas ainda...</td>
<td>(C) Teríamos que parcelar bastante ou contar c...</td>
<td>(C) Uma cerimônia encantadora, com tudo bem feito</td>
<td>(C) Temos destinos em mente, mas sem orçamento...</td>
<td>(D) Estamos prontos, queremos agir e realizar ...</td>
<td>Gines</td>
<td>NaN</td>
<td>61974035966</td>
<td>clicked</td>
<td>src: UNICOTRACKER-2348-2348174611426542420-174...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>AShHDV</td>
<td>30/04/2025 08:47:31</td>
<td>clicked</td>
<td>NaN</td>
<td>NaN</td>
<td>(A) Ainda estamos completamente perdidos sobre...</td>
<td>(C) Temos folga, mas ainda não vivemos como go...</td>
<td>(D) Prefere que eu resolva tudo sozinho(a)</td>
<td>(D) Temos planilhas, metas e até cronograma de...</td>
<td>(D) Poderíamos arcar com boa parte, mas querem...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Gines</td>
<td>NaN</td>
<td>61974035966</td>
<td>clicked</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>5lPo6L</td>
<td>30/04/2025 08:55:30</td>
<td>clicked</td>
<td>NaN</td>
<td>NaN</td>
<td>(A) Ainda estamos completamente perdidos sobre...</td>
<td>(B) Conseguimos nos manter, mas não sobra</td>
<td>(A) Está completamente envolvido(a), sonha jun...</td>
<td>(B) Temos anotações e ideias soltas</td>
<td>(A) Não conseguiríamos bancar nada ainda</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>sSZ91S</td>
<td>30/04/2025 09:04:38</td>
<td>clicked</td>
<td>NaN</td>
<td>NaN</td>
<td>(B) Temos algumas referências, mas nada decidido</td>
<td>(A) Vivemos no limite e temos dívidas</td>
<td>(B) Está envolvido(a), mas prefere que eu lidere</td>
<td>(A) Não começamos ainda</td>
<td>(B) Conseguiríamos fazer algo simples</td>
<td>(A) Ainda não pensamos nisso</td>
<td>(A) Nem pensamos nisso ainda</td>
<td>(B) Queremos muito, mas temos medo de não dar ...</td>
<td>Bruno</td>
<td>NaN</td>
<td>48991954215</td>
<td>clicked</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>jv69Q9</td>
<td>30/04/2025 09:08:10</td>
<td>clicked</td>
<td>NaN</td>
<td>NaN</td>
<td>(A) Ainda estamos completamente perdidos sobre...</td>
<td>(B) Conseguimos nos manter, mas não sobra</td>
<td>(A) Está completamente envolvido(a), sonha jun...</td>
<td>(A) Não começamos ainda</td>
<td>(B) Conseguiríamos fazer algo simples</td>
<td>(B) Algo íntimo e simples, só com pessoas próx...</td>
<td>(B) Pensamos, mas parece fora da nossa realidade</td>
<td>(B) Queremos muito, mas temos medo de não dar ...</td>
<td>Gines</td>
<td>NaN</td>
<td>61974035966</td>
<td>clicked</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="contagem-de-cada-coluna-df01" class="level6">
<h6 data-anchor-id="contagem-de-cada-coluna-df01">Contagem de cada coluna df01:</h6>
<div id="3b8dca5c" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df_01.count()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>code                      353
created_at                353
button: oQcJxV            331
options: opcoes_UAa9JQ      0
button: 0FvZw6             22
options: opcoes_KxEbYn    260
options: opcoes_iSdQa9    249
options: opcoes_GZPJo1    235
options: opcoes_n5nnNG    227
options: opcoes_G7CtE4    223
options: opcoes_euOjgt    220
options: opcoes_3FPmNX    220
options: opcoes_kGxmr1    218
field: 11ABFZ              74
field: 3hxWeL              70
field: 5fSLVc              74
button: enviar             74
tracking                  341
dtype: int64</code></pre>
</div>
</div>
</section>
<section id="contagem-de-cada-coluna-df02" class="level6">
<h6 data-anchor-id="contagem-de-cada-coluna-df02">Contagem de cada coluna df02:</h6>
<div id="8cd15024" class="cell" data-execution_count="4">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df_02.count()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>code                      162
created_at                162
button: oQcJxV            120
options: opcoes_UAa9JQ      0
button: 0FvZw6             41
options: opcoes_KxEbYn    142
options: opcoes_iSdQa9    142
options: opcoes_GZPJo1    138
options: opcoes_n5nnNG    138
options: opcoes_G7CtE4    137
options: opcoes_euOjgt    136
options: opcoes_3FPmNX    135
options: opcoes_kGxmr1    135
field: 11ABFZ              63
field: 3hxWeL              63
field: 5fSLVc              63
button: enviar             63
tracking                  154
dtype: int64</code></pre>
</div>
</div>
</section>
</section>
<section id="limpeza-dos-dados" class="level3">
<h3 data-anchor-id="limpeza-dos-dados">Limpeza dos Dados</h3>
<p>As colunas created_at options: opcoes_UAa9JQ, code,button: oQcJxV, button: 0FvZw6, button: enviar e tracking não contem informações relevantes para a analise portanto podemos remove-las do df01 e df02, as colunas , field: 11ABFZ,field: 3hxWeL, field: 5fSLVc possuem dados sobre o lead, porém possuem poucos dados para se trablhar então vamos remove-las também dos dfs.</p>
<section id="remoção-das-colunas-definidas-nos-df01-e-df02" class="level6">
<h6 data-anchor-id="remoção-das-colunas-definidas-nos-df01-e-df02">Remoção das colunas definidas nos df01 e df02:</h6>
<div id="ce421811" class="cell" data-execution_count="5">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df_01 <span class="op">=</span> df_01.drop(columns<span class="op">=</span>[<span class="st">"created_at"</span>,<span class="st">"options: opcoes_UAa9JQ"</span>,<span class="st">"code"</span>, <span class="st">"button: oQcJxV"</span>, <span class="st">"button: 0FvZw6"</span>, <span class="st">"field: 11ABFZ"</span>, <span class="st">"field: 3hxWeL"</span>,<span class="st">"field: 5fSLVc"</span>, <span class="st">"button: enviar"</span>, <span class="st">"tracking"</span>])</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>df_02 <span class="op">=</span> df_02.drop(columns<span class="op">=</span>[<span class="st">"created_at"</span>,<span class="st">"options: opcoes_UAa9JQ"</span>,<span class="st">"code"</span>, <span class="st">"button: oQcJxV"</span>, <span class="st">"button: 0FvZw6"</span>, <span class="st">"field: 11ABFZ"</span>, <span class="st">"field: 3hxWeL"</span>,<span class="st">"field: 5fSLVc"</span>, <span class="st">"button: enviar"</span>, <span class="st">"tracking"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Vamos remover as colunas: code button: oQcJxV options: opcoes_UAa9JQ button: 0FvZw6 options: opcoes_PhNxWH options: opcoes_NMBS1J options: opcoes_Peavhn options: opcoes_RyUh7O options: opcoes_S8x7OR options: opcoes_MNd05q options: opcoes_AQo3UU options: opcoes_yYueg1 field: 11ABFZ field: 3hxWeL field: 5fSLVc button: enviar tracking</p>
<p>do df_03, pelos mesmos motivos da remoção das colunas do df1 e df02</p>
</section>
<section id="remoção-das-colunas-definidas-do-df03" class="level6">
<h6 data-anchor-id="remoção-das-colunas-definidas-do-df03">Remoção das colunas definidas do df03:</h6>
<div id="d757ef46" class="cell" data-execution_count="6">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>df_03 <span class="op">=</span> df_03.drop(columns<span class="op">=</span>[<span class="st">"created_at"</span>,<span class="st">"code"</span>, <span class="st">"button: oQcJxV"</span>,<span class="st">"options: opcoes_UAa9JQ"</span>,<span class="st">"button: 0FvZw6"</span>,</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"button: 0FvZw6"</span>, <span class="st">"options: opcoes_PhNxWH"</span>, <span class="st">"options: opcoes_NMBS1J"</span>, <span class="st">"options: opcoes_Peavhn"</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"options: opcoes_RyUh7O"</span>, <span class="st">"options: opcoes_S8x7OR"</span>, <span class="st">"options: opcoes_MNd05q"</span>, <span class="st">"options: opcoes_AQo3UU"</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"options: opcoes_yYueg1"</span>,<span class="st">"field: 11ABFZ"</span>, <span class="st">"field: 3hxWeL"</span>,<span class="st">"field: 5fSLVc"</span>, <span class="st">"button: enviar"</span>, <span class="st">"tracking"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Agora os três df tem as mesmas colunas, vamos renomea-las e concatenar os dataframes</p>
</section>
<section id="renomeação-das-colunas-e-concatenando-os-dataframes" class="level6">
<h6 data-anchor-id="renomeação-das-colunas-e-concatenando-os-dataframes">Renomeação das Colunas e Concatenando os dataframes:</h6>
<div id="fd2877e6" class="cell" data-execution_count="7">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>rename_dict <span class="op">=</span> {</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'options: opcoes_KxEbYn'</span>: <span class="st">'pergunta_1'</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'options: opcoes_iSdQa9'</span>: <span class="st">'pergunta_2'</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'options: opcoes_GZPJo1'</span>: <span class="st">'pergunta_3'</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'options: opcoes_n5nnNG'</span>: <span class="st">'pergunta_4'</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'options: opcoes_G7CtE4'</span>: <span class="st">'pergunta_5'</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'options: opcoes_euOjgt'</span>: <span class="st">'pergunta_6'</span>,</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'options: opcoes_3FPmNX'</span>: <span class="st">'pergunta_7'</span>,</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'options: opcoes_kGxmr1'</span>: <span class="st">'pergunta_8'</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Renomear colunas para df_01</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>df_01 <span class="op">=</span> df_01.rename(columns<span class="op">=</span>rename_dict)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>df_02 <span class="op">=</span> df_02.rename(columns<span class="op">=</span>rename_dict)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>df_03 <span class="op">=</span> df_03.rename(columns<span class="op">=</span>rename_dict)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Concatenar os dataframes</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>df_gf <span class="op">=</span> pd.concat([df_01, df_02, df_03], ignore_index<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="amostra-do-df-limpo-e-concatenado" class="level6">
<h6 data-anchor-id="amostra-do-df-limpo-e-concatenado">Amostra do df limpo e concatenado:</h6>
<div id="1b83b559" class="cell" data-execution_count="8">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>df_gf.sample(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="8">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">pergunta_1</th>
<th data-quarto-table-cell-role="th">pergunta_2</th>
<th data-quarto-table-cell-role="th">pergunta_3</th>
<th data-quarto-table-cell-role="th">pergunta_4</th>
<th data-quarto-table-cell-role="th">pergunta_5</th>
<th data-quarto-table-cell-role="th">pergunta_6</th>
<th data-quarto-table-cell-role="th">pergunta_7</th>
<th data-quarto-table-cell-role="th">pergunta_8</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">99</td>
<td>(C) Já temos o estilo em mente, mas falta plan...</td>
<td>(C) Temos folga, mas ainda não vivemos como go...</td>
<td>(A) Está completamente envolvido(a), sonha jun...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">220</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">234</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Percebemos que existem resposta com a letra A/B/C/D antes da resposta e outras respostas não a possuem, precisamos mapear ambos os cenários</p>
</section>
<section id="mapeando-as-respostas-com-e-sem-letra" class="level6">
<h6 data-anchor-id="mapeando-as-respostas-com-e-sem-letra">Mapeando as respostas (com e sem letra):</h6>
<div id="a80cbaf1" class="cell" data-execution_count="9">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dicionário para mapear respostas com letra</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>mapeamento_com_letra <span class="op">=</span> {</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(A) Ainda estamos completamente perdidos sobre tudo'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(B) Temos algumas referências, mas nada decidido'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(C) Já temos o estilo em mente, mas falta planejar'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(D) Sabemos exatamente o que queremos e já começamos a organizar'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(A) Vivemos no limite e temos dívidas'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(B) Conseguimos nos manter, mas não sobra'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(C) Temos folga, mas ainda não vivemos como gostaríamos'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(D) Estamos bem financeiramente, mas queremos crescer mais'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(A) Está completamente envolvido(a), sonha junto comigo'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(B) Está envolvido(a), mas prefere que eu lidere'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(C) Me apoia, mas não se envolve muito com o planejamento'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(D) Prefere que eu resolva tudo sozinho(a)'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(A) Não começamos ainda'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(B) Temos anotações e ideias soltas'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(C) Criamos um planejamento inicial, mas ainda sem orçamento'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(D) Temos planilhas, metas e até cronograma definido'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(A) Não conseguiríamos bancar nada ainda'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(B) Conseguiríamos fazer algo simples'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(C) Teríamos que parcelar bastante ou contar com ajuda'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(D) Poderíamos arcar com boa parte, mas queremos mais liberdade'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(A) Ainda não pensamos nisso'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(B) Algo íntimo e simples, só com pessoas próximas'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(C) Uma cerimônia encantadora, com tudo bem feito'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(D) Um evento inesquecível, com tudo que temos direito'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(A) Nem pensamos nisso ainda'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(B) Pensamos, mas parece fora da nossa realidade'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(C) Temos destinos em mente, mas sem orçamento ainda'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(D) Já sabemos onde queremos ir e estamos nos planejando'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(A) Desejamos, mas nos falta tempo e direção'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(B) Queremos muito, mas temos medo de não dar conta'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(C) Estamos dispostos, só falta um plano eficaz'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(D) Estamos prontos, queremos agir e realizar de verdade'</span>: <span class="st">'D'</span></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Dicionário para mapear respostas sem letra</span></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>mapeamento_sem_letra <span class="op">=</span> {</span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Ainda estamos completamente perdidos sobre tudo'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Temos algumas referências, mas nada decidido'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Já temos o estilo em mente, mas falta planejar'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Sabemos exatamente o que queremos e já começamos a organizar'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Vivemos no limite e temos dívidas'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Conseguimos nos manter, mas não sobra'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Temos folga, mas ainda não vivemos como gostaríamos'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Estamos bem financeiramente, mas queremos crescer mais'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Está completamente envolvido(a), sonha junto comigo'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Está envolvido(a), mas prefere que eu lidere'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Me apoia, mas não se envolve muito com o planejamento'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Prefere que eu resolva tudo sozinho(a)'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Não começamos ainda'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Temos anotações e ideias soltas'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Criamos um planejamento inicial, mas ainda sem orçamento'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-63"><a href="#cb10-63" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Temos planilhas, metas e até cronograma definido'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-64"><a href="#cb10-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-65"><a href="#cb10-65" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Não conseguiríamos bancar nada ainda'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-66"><a href="#cb10-66" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Conseguiríamos fazer algo simples'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-67"><a href="#cb10-67" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Teríamos que parcelar bastante ou contar com ajuda'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-68"><a href="#cb10-68" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Poderíamos arcar com boa parte, mas queremos mais liberdade'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-69"><a href="#cb10-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-70"><a href="#cb10-70" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Ainda não pensamos nisso'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-71"><a href="#cb10-71" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Algo íntimo e simples, só com pessoas próximas'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-72"><a href="#cb10-72" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Uma cerimônia encantadora, com tudo bem feito'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-73"><a href="#cb10-73" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Um evento inesquecível, com tudo que temos direito'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-74"><a href="#cb10-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-75"><a href="#cb10-75" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Nem pensamos nisso ainda'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-76"><a href="#cb10-76" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Pensamos, mas parece fora da nossa realidade'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-77"><a href="#cb10-77" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Temos destinos em mente, mas sem orçamento ainda'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-78"><a href="#cb10-78" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Já sabemos onde queremos ir e estamos nos planejando'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-79"><a href="#cb10-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-80"><a href="#cb10-80" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Desejamos, mas nos falta tempo e direção'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-81"><a href="#cb10-81" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Queremos muito, mas temos medo de não dar conta'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-82"><a href="#cb10-82" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Estamos dispostos, só falta um plano eficaz'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-83"><a href="#cb10-83" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Estamos prontos, queremos agir e realizar de verdade'</span>: <span class="st">'D'</span></span>
<span id="cb10-84"><a href="#cb10-84" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-85"><a href="#cb10-85" aria-hidden="true" tabindex="-1"></a><span class="co"># Função para mapear as respostas</span></span>
<span id="cb10-86"><a href="#cb10-86" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> mapear_resposta(resposta, mapeamento_letra, mapeamento_sem):</span>
<span id="cb10-87"><a href="#cb10-87" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">isinstance</span>(resposta, <span class="bu">str</span>):  <span class="co"># Verifica se é string</span></span>
<span id="cb10-88"><a href="#cb10-88" aria-hidden="true" tabindex="-1"></a>        resposta <span class="op">=</span> resposta.strip()  <span class="co"># Remove espaços</span></span>
<span id="cb10-89"><a href="#cb10-89" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-90"><a href="#cb10-90" aria-hidden="true" tabindex="-1"></a>    resposta_mapeada <span class="op">=</span> mapeamento_letra.get(resposta)</span>
<span id="cb10-91"><a href="#cb10-91" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> resposta_mapeada:</span>
<span id="cb10-92"><a href="#cb10-92" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> resposta_mapeada</span>
<span id="cb10-93"><a href="#cb10-93" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-94"><a href="#cb10-94" aria-hidden="true" tabindex="-1"></a>    resposta_mapeada <span class="op">=</span> mapeamento_sem.get(resposta)</span>
<span id="cb10-95"><a href="#cb10-95" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> resposta_mapeada:</span>
<span id="cb10-96"><a href="#cb10-96" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> resposta_mapeada</span>
<span id="cb10-97"><a href="#cb10-97" aria-hidden="true" tabindex="-1"></a><span class="co"># Aplica a função a todas as colunas de perguntas</span></span>
<span id="cb10-98"><a href="#cb10-98" aria-hidden="true" tabindex="-1"></a>colunas_perguntas <span class="op">=</span> [<span class="st">'pergunta_1'</span>, <span class="st">'pergunta_2'</span>, <span class="st">'pergunta_3'</span>, <span class="st">'pergunta_4'</span>, <span class="st">'pergunta_5'</span>, <span class="st">'pergunta_6'</span>, <span class="st">'pergunta_7'</span>, <span class="st">'pergunta_8'</span>]</span>
<span id="cb10-99"><a href="#cb10-99" aria-hidden="true" tabindex="-1"></a>df_gf[colunas_perguntas] <span class="op">=</span> df_gf[colunas_perguntas].applymap(<span class="kw">lambda</span> resposta: mapear_resposta(resposta, mapeamento_com_letra, mapeamento_sem_letra))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="tratamento-de-valores-ausentes" class="level3">
<h3 data-anchor-id="tratamento-de-valores-ausentes">Tratamento de Valores Ausentes</h3>
<section id="describe-do-df" class="level6">
<h6 data-anchor-id="describe-do-df">Describe do df:</h6>
<div id="8c14af5c" class="cell" data-execution_count="10">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>df_gf.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="10">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">pergunta_1</th>
<th data-quarto-table-cell-role="th">pergunta_2</th>
<th data-quarto-table-cell-role="th">pergunta_3</th>
<th data-quarto-table-cell-role="th">pergunta_4</th>
<th data-quarto-table-cell-role="th">pergunta_5</th>
<th data-quarto-table-cell-role="th">pergunta_6</th>
<th data-quarto-table-cell-role="th">pergunta_7</th>
<th data-quarto-table-cell-role="th">pergunta_8</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>495</td>
<td>482</td>
<td>457</td>
<td>449</td>
<td>443</td>
<td>439</td>
<td>438</td>
<td>436</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">unique</td>
<td>4</td>
<td>4</td>
<td>4</td>
<td>4</td>
<td>4</td>
<td>4</td>
<td>4</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">top</td>
<td>A</td>
<td>B</td>
<td>A</td>
<td>A</td>
<td>B</td>
<td>B</td>
<td>A</td>
<td>B</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">freq</td>
<td>178</td>
<td>189</td>
<td>219</td>
<td>184</td>
<td>170</td>
<td>189</td>
<td>184</td>
<td>124</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="verificando-valores-nulos" class="level6">
<h6 data-anchor-id="verificando-valores-nulos">Verificando valores nulos:</h6>
<div id="eba28435" class="cell" data-execution_count="11">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_gf.isnull().<span class="bu">sum</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>pergunta_1    132
pergunta_2    145
pergunta_3    170
pergunta_4    178
pergunta_5    184
pergunta_6    188
pergunta_7    189
pergunta_8    191
dtype: int64</code></pre>
</div>
</div>
<p>Como temos bastante valores Nan, decidimos remover todas as linhas que possuem todas as perguntas sem resposta e posteriormente substituir as linhas que possuem NaN mas não em todas as perguntas pela moda de cada pergunta.</p>
</section>
<section id="removendo-linhas-com-valores-nulos" class="level6">
<h6 data-anchor-id="removendo-linhas-com-valores-nulos">Removendo linhas com valores nulos:</h6>
<div id="ea69f2c3" class="cell" data-execution_count="12">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Contar diretamente as linhas onde todas as colunas são NaN</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>num_linhas_todas_nan <span class="op">=</span> df_gf.isna().<span class="bu">all</span>(axis<span class="op">=</span><span class="dv">1</span>).<span class="bu">sum</span>()</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Remover linhas onde todas as colunas são NaN</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>df_gf<span class="op">=</span> df_gf.dropna(how<span class="op">=</span><span class="st">'all'</span>)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando valores nulos novamente</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_gf.isnull().<span class="bu">sum</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>pergunta_1     0
pergunta_2    13
pergunta_3    38
pergunta_4    46
pergunta_5    52
pergunta_6    56
pergunta_7    57
pergunta_8    59
dtype: int64</code></pre>
</div>
</div>
<p>Agora vamos analisar os dados para saber a volumetria de valores ausentes por pergunta e como estão distribuidas as respostas para cada pergunta</p>
</section>
<section id="calculando-o-percentual-de-valores-ausentes-em-cada-coluna" class="level6">
<h6 data-anchor-id="calculando-o-percentual-de-valores-ausentes-em-cada-coluna">Calculando o percentual de valores ausentes em cada coluna:</h6>
<div id="879b77ac" class="cell" data-execution_count="13">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculando o percentual de valores ausentes em cada coluna</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>percentual_na_perguntas <span class="op">=</span> df_gf.isna().mean() <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Exibindo o percentual de valores ausentes</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(percentual_na_perguntas)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>pergunta_1     0.000000
pergunta_2     2.626263
pergunta_3     7.676768
pergunta_4     9.292929
pergunta_5    10.505051
pergunta_6    11.313131
pergunta_7    11.515152
pergunta_8    11.919192
dtype: float64</code></pre>
</div>
</div>
<p>Antes de realizar a limpeza dos valores nan vamos olhar como os dados estao distribuidos</p>
</section>
<section id="criando-gráfico-sem-valores-nulos" class="level6">
<h6 data-anchor-id="criando-gráfico-sem-valores-nulos">Criando gráfico sem valores nulos:</h6>
<div id="1a645bef" class="cell" data-execution_count="14">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um df sem os valores nan</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>df_limpo <span class="op">=</span> df_gf.dropna()</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Lista das perguntas</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>perguntas <span class="op">=</span> [<span class="st">'pergunta_1'</span>, <span class="st">'pergunta_2'</span>, <span class="st">'pergunta_3'</span>, <span class="st">'pergunta_4'</span>, </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">'pergunta_5'</span>, <span class="st">'pergunta_6'</span>, <span class="st">'pergunta_7'</span>, <span class="st">'pergunta_8'</span>]</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Cores do gráfico</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>cores <span class="op">=</span> px.colors.qualitative.Vivid</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando o gráfico com subplots</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> sp.make_subplots(</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    rows<span class="op">=</span><span class="dv">2</span>, cols<span class="op">=</span><span class="dv">4</span>, </span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    subplot_titles<span class="op">=</span>perguntas,</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    horizontal_spacing<span class="op">=</span><span class="fl">0.10</span>,  <span class="co"># aumenta o espaço entre subplots</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    vertical_spacing<span class="op">=</span><span class="fl">0.13</span>     <span class="co"># aumenta o espaço entre as linhas</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, pergunta <span class="kw">in</span> <span class="bu">enumerate</span>(perguntas):</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    contagem <span class="op">=</span> df_limpo[pergunta].value_counts().sort_index()</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>        go.Bar(</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span>contagem.index,</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span>contagem.values,</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>            marker_color<span class="op">=</span>cores[:<span class="bu">len</span>(contagem)],</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>            name<span class="op">=</span>pergunta</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>        row<span class="op">=</span>(i<span class="op">//</span><span class="dv">4</span>)<span class="op">+</span><span class="dv">1</span>, col<span class="op">=</span>(i<span class="op">%</span><span class="dv">4</span>)<span class="op">+</span><span class="dv">1</span></span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">500</span>,  <span class="co"># Diminua ou aumente conforme preferir</span></span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">900</span>,   <span class="co"># Largura reduzida para evitar barra de rolagem lateral</span></span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span>{</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>        <span class="st">'text'</span>: <span class="st">"Frequência de Respostas por Pergunta"</span>,</span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>        <span class="st">'y'</span>: <span class="fl">0.98</span>,          <span class="co"># Mais próximo do topo</span></span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>        <span class="st">'x'</span>: <span class="fl">0.5</span>,           <span class="co"># Centralizado</span></span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a>        <span class="st">'xanchor'</span>: <span class="st">'center'</span>,</span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a>        <span class="st">'yanchor'</span>: <span class="st">'top'</span>,</span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a>        <span class="st">'pad'</span>: {<span class="st">'b'</span>: <span class="dv">28</span>}    <span class="co"># Espaço inferior do título para distanciar das labels</span></span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a>    margin<span class="op">=</span><span class="bu">dict</span>(t<span class="op">=</span><span class="dv">95</span>, b<span class="op">=</span><span class="dv">60</span>, l<span class="op">=</span><span class="dv">40</span>, r<span class="op">=</span><span class="dv">40</span>),  <span class="co"># Margens superiores/abaixo para distanciar título e labels</span></span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a>    showlegend<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">"plotly_white"</span></span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>                            <div id="9b08a0d9-d8cf-42d0-9b89-90cafdb014a5" class="plotly-graph-div" style="height:500px; width:900px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("9b08a0d9-d8cf-42d0-9b89-90cafdb014a5")) {                    Plotly.newPlot(                        "9b08a0d9-d8cf-42d0-9b89-90cafdb014a5",                        [{"marker":{"color":["rgb(229, 134, 6)","rgb(93, 105, 177)","rgb(82, 188, 163)","rgb(153, 201, 69)"]},"name":"pergunta_1","x":["A","B","C","D"],"y":[155,98,103,79],"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":["rgb(229, 134, 6)","rgb(93, 105, 177)","rgb(82, 188, 163)","rgb(153, 201, 69)"]},"name":"pergunta_2","x":["A","B","C","D"],"y":[151,171,78,35],"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":["rgb(229, 134, 6)","rgb(93, 105, 177)","rgb(82, 188, 163)","rgb(153, 201, 69)"]},"name":"pergunta_3","x":["A","B","C","D"],"y":[208,105,90,32],"type":"bar","xaxis":"x3","yaxis":"y3"},{"marker":{"color":["rgb(229, 134, 6)","rgb(93, 105, 177)","rgb(82, 188, 163)","rgb(153, 201, 69)"]},"name":"pergunta_4","x":["A","B","C","D"],"y":[181,157,57,40],"type":"bar","xaxis":"x4","yaxis":"y4"},{"marker":{"color":["rgb(229, 134, 6)","rgb(93, 105, 177)","rgb(82, 188, 163)","rgb(153, 201, 69)"]},"name":"pergunta_5","x":["A","B","C","D"],"y":[158,165,67,45],"type":"bar","xaxis":"x5","yaxis":"y5"},{"marker":{"color":["rgb(229, 134, 6)","rgb(93, 105, 177)","rgb(82, 188, 163)","rgb(153, 201, 69)"]},"name":"pergunta_6","x":["A","B","C","D"],"y":[58,187,149,41],"type":"bar","xaxis":"x6","yaxis":"y6"},{"marker":{"color":["rgb(229, 134, 6)","rgb(93, 105, 177)","rgb(82, 188, 163)","rgb(153, 201, 69)"]},"name":"pergunta_7","x":["A","B","C","D"],"y":[183,94,115,43],"type":"bar","xaxis":"x7","yaxis":"y7"},{"marker":{"color":["rgb(229, 134, 6)","rgb(93, 105, 177)","rgb(82, 188, 163)","rgb(153, 201, 69)"]},"name":"pergunta_8","x":["A","B","C","D"],"y":[124,123,106,82],"type":"bar","xaxis":"x8","yaxis":"y8"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.0,0.175]},"yaxis":{"anchor":"x","domain":[0.565,1.0]},"xaxis2":{"anchor":"y2","domain":[0.275,0.45]},"yaxis2":{"anchor":"x2","domain":[0.565,1.0]},"xaxis3":{"anchor":"y3","domain":[0.55,0.7250000000000001]},"yaxis3":{"anchor":"x3","domain":[0.565,1.0]},"xaxis4":{"anchor":"y4","domain":[0.825,1.0]},"yaxis4":{"anchor":"x4","domain":[0.565,1.0]},"xaxis5":{"anchor":"y5","domain":[0.0,0.175]},"yaxis5":{"anchor":"x5","domain":[0.0,0.435]},"xaxis6":{"anchor":"y6","domain":[0.275,0.45]},"yaxis6":{"anchor":"x6","domain":[0.0,0.435]},"xaxis7":{"anchor":"y7","domain":[0.55,0.7250000000000001]},"yaxis7":{"anchor":"x7","domain":[0.0,0.435]},"xaxis8":{"anchor":"y8","domain":[0.825,1.0]},"yaxis8":{"anchor":"x8","domain":[0.0,0.435]},"annotations":[{"font":{"size":16},"showarrow":false,"text":"pergunta_1","x":0.0875,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"pergunta_2","x":0.36250000000000004,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"pergunta_3","x":0.6375000000000001,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"pergunta_4","x":0.9125,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"pergunta_5","x":0.0875,"xanchor":"center","xref":"paper","y":0.435,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"pergunta_6","x":0.36250000000000004,"xanchor":"center","xref":"paper","y":0.435,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"pergunta_7","x":0.6375000000000001,"xanchor":"center","xref":"paper","y":0.435,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"pergunta_8","x":0.9125,"xanchor":"center","xref":"paper","y":0.435,"yanchor":"bottom","yref":"paper"}],"title":{"pad":{"b":28},"text":"Frequência de Respostas por Pergunta","y":0.98,"x":0.5,"xanchor":"center","yanchor":"top"},"margin":{"t":95,"b":60,"l":40,"r":40},"height":500,"width":900,"showlegend":false},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('9b08a0d9-d8cf-42d0-9b89-90cafdb014a5');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>Como temos um percentual baixo de valores nulos atualmente no dataset, vamos substituir os valores nulos pela Moda de cada pergunta.</p>
</section>
<section id="imputando-valores-nulos-com-a-moda-de-cada-coluna" class="level6">
<h6 data-anchor-id="imputando-valores-nulos-com-a-moda-de-cada-coluna">Imputando valores nulos com a moda de cada coluna:</h6>
<div id="d76e8112" class="cell" data-execution_count="15">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> df_gf.columns:</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> col.startswith(<span class="st">'pergunta'</span>):</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>        moda <span class="op">=</span> df_gf[col].mode()[<span class="dv">0</span>]</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>        df_gf[col].fillna(moda, inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="verificando-valores-nulos-novamente" class="level6">
<h6 data-anchor-id="verificando-valores-nulos-novamente">Verificando valores nulos novamente:</h6>
<div id="751d59c9" class="cell" data-execution_count="16">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_gf.isnull().<span class="bu">sum</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>pergunta_1    0
pergunta_2    0
pergunta_3    0
pergunta_4    0
pergunta_5    0
pergunta_6    0
pergunta_7    0
pergunta_8    0
dtype: int64</code></pre>
</div>
</div>
<p>Vamos criar um dicionário de dados caso seja necessário consultar as peruntas e alterantivas durante a análise</p>
</section>
<section id="criando-um-dicionário-com-todas-as-perguntas-e-alternativas" class="level6">
<h6 data-anchor-id="criando-um-dicionário-com-todas-as-perguntas-e-alternativas">Criando um dicionário com todas as perguntas e alternativas:</h6>
<div id="f2c949a9" class="cell" data-execution_count="17">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>perguntas_dict <span class="op">=</span> {</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pergunta_1"</span>: {</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"texto"</span>: <span class="st">"Nível de clareza sobre o casamento dos sonhos: Como vocês descreveriam o nível de clareza que têm sobre o casamento que desejam?"</span>,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"alternativas"</span>: {</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">"A"</span>: <span class="st">"Ainda estamos completamente perdidos sobre tudo"</span>,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>            <span class="st">"B"</span>: <span class="st">"Temos algumas referências, mas nada decidido"</span>,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">"C"</span>: <span class="st">"Já temos o estilo em mente, mas falta planejar"</span>,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">"D"</span>: <span class="st">"Sabemos exatamente o que queremos e já começamos a organizar"</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pergunta_2"</span>: {</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"texto"</span>: <span class="st">"Situação financeira atual: Como você descreveria a situação financeira atual de vocês dois?"</span>,</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"alternativas"</span>: {</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>            <span class="st">"A"</span>: <span class="st">"Vivemos no limite e temos dívidas"</span>,</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>            <span class="st">"B"</span>: <span class="st">"Conseguimos nos manter, mas não sobra"</span>,</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>            <span class="st">"C"</span>: <span class="st">"Temos folga, mas ainda não vivemos como gostaríamos"</span>,</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>            <span class="st">"D"</span>: <span class="st">"Estamos bem financeiramente, mas queremos crescer mais"</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pergunta_3"</span>: {</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">"texto"</span>: <span class="st">"Apoio mútuo e envolvimento no sonho de casamento: Como está o envolvimento do seu parceiro(a) na realização do casamento dos sonhos?"</span>,</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">"alternativas"</span>: {</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>            <span class="st">"A"</span>: <span class="st">"Está completamente envolvido(a), sonha junto comigo"</span>,</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>            <span class="st">"B"</span>: <span class="st">"Está envolvido(a), mas prefere que eu lidere"</span>,</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>            <span class="st">"C"</span>: <span class="st">"Me apoia, mas não se envolve muito com o planejamento"</span>,</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>            <span class="st">"D"</span>: <span class="st">"Prefere que eu resolva tudo sozinho(a)"</span></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pergunta_4"</span>: {</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>        <span class="st">"texto"</span>: <span class="st">"Nível de organização do planejamento: Como vocês estão se organizando para planejar o casamento?"</span>,</span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>        <span class="st">"alternativas"</span>: {</span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>            <span class="st">"A"</span>: <span class="st">"Não começamos ainda"</span>,</span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>            <span class="st">"B"</span>: <span class="st">"Temos anotações e ideias soltas"</span>,</span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>            <span class="st">"C"</span>: <span class="st">"Criamos um planejamento inicial, mas ainda sem orçamento"</span>,</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>            <span class="st">"D"</span>: <span class="st">"Temos planilhas, metas e até cronograma definido"</span></span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pergunta_5"</span>: {</span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>        <span class="st">"texto"</span>: <span class="st">"Possibilidade de investimento atual no casamento: Se fossem realizar o casamento ideal hoje, como pagariam?"</span>,</span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>        <span class="st">"alternativas"</span>: {</span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>            <span class="st">"A"</span>: <span class="st">"Não conseguiríamos bancar nada ainda"</span>,</span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a>            <span class="st">"B"</span>: <span class="st">"Conseguiríamos fazer algo simples"</span>,</span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>            <span class="st">"C"</span>: <span class="st">"Teríamos que parcelar bastante ou contar com ajuda"</span>,</span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a>            <span class="st">"D"</span>: <span class="st">"Poderíamos arcar com boa parte, mas queremos mais liberdade"</span></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pergunta_6"</span>: {</span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a>        <span class="st">"texto"</span>: <span class="st">"Estilo de casamento desejado: Qual o estilo de casamento dos seus sonhos?"</span>,</span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a>        <span class="st">"alternativas"</span>: {</span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a>            <span class="st">"A"</span>: <span class="st">"Ainda não pensamos nisso"</span>,</span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>            <span class="st">"B"</span>: <span class="st">"Algo íntimo e simples, só com pessoas próximas"</span>,</span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a>            <span class="st">"C"</span>: <span class="st">"Uma cerimônia encantadora, com tudo bem feito"</span>,</span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>            <span class="st">"D"</span>: <span class="st">"Um evento inesquecível, com tudo que temos direito"</span></span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pergunta_7"</span>: {</span>
<span id="cb22-57"><a href="#cb22-57" aria-hidden="true" tabindex="-1"></a>        <span class="st">"texto"</span>: <span class="st">"Planejamento da lua de mel: Vocês já pensaram na lua de mel?"</span>,</span>
<span id="cb22-58"><a href="#cb22-58" aria-hidden="true" tabindex="-1"></a>        <span class="st">"alternativas"</span>: {</span>
<span id="cb22-59"><a href="#cb22-59" aria-hidden="true" tabindex="-1"></a>            <span class="st">"A"</span>: <span class="st">"Nem pensamos nisso ainda"</span>,</span>
<span id="cb22-60"><a href="#cb22-60" aria-hidden="true" tabindex="-1"></a>            <span class="st">"B"</span>: <span class="st">"Pensamos, mas parece fora da nossa realidade"</span>,</span>
<span id="cb22-61"><a href="#cb22-61" aria-hidden="true" tabindex="-1"></a>            <span class="st">"C"</span>: <span class="st">"Temos destinos em mente, mas sem orçamento ainda"</span>,</span>
<span id="cb22-62"><a href="#cb22-62" aria-hidden="true" tabindex="-1"></a>            <span class="st">"D"</span>: <span class="st">"Já sabemos onde queremos ir e estamos nos planejando"</span></span>
<span id="cb22-63"><a href="#cb22-63" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-64"><a href="#cb22-64" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb22-65"><a href="#cb22-65" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pergunta_8"</span>: {</span>
<span id="cb22-66"><a href="#cb22-66" aria-hidden="true" tabindex="-1"></a>        <span class="st">"texto"</span>: <span class="st">"Comprometimento em tornar esse sonho realidade: O quanto vocês estão comprometidos em transformar esse sonho em realidade?"</span>,</span>
<span id="cb22-67"><a href="#cb22-67" aria-hidden="true" tabindex="-1"></a>        <span class="st">"alternativas"</span>: {</span>
<span id="cb22-68"><a href="#cb22-68" aria-hidden="true" tabindex="-1"></a>            <span class="st">"A"</span>: <span class="st">"Desejamos, mas nos falta tempo e direção"</span>,</span>
<span id="cb22-69"><a href="#cb22-69" aria-hidden="true" tabindex="-1"></a>            <span class="st">"B"</span>: <span class="st">"Queremos muito, mas temos medo de não dar conta"</span>,</span>
<span id="cb22-70"><a href="#cb22-70" aria-hidden="true" tabindex="-1"></a>            <span class="st">"C"</span>: <span class="st">"Estamos dispostos, só falta um plano eficaz"</span>,</span>
<span id="cb22-71"><a href="#cb22-71" aria-hidden="true" tabindex="-1"></a>            <span class="st">"D"</span>: <span class="st">"Estamos prontos, queremos agir e realizar de verdade"</span></span>
<span id="cb22-72"><a href="#cb22-72" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-73"><a href="#cb22-73" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb22-74"><a href="#cb22-74" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
</section>
<section id="construção-e-validação-de-modelos" class="level2">
<h2 data-anchor-id="construção-e-validação-de-modelos">3. Construção e Validação de Modelos</h2>
<p>O algoritmo KMeans utiliza a distância euclidiana entre os pontos para formar clusters. A distância euclidiana é uma medida de quão longe dois pontos estão um do outro no espaço euclidiano. A correlação pode ter impacto significativo em modelos de clusterização como o KMeans, pois o KMeans utiliza a distância euclidiana entre os pontos para formar clusters. Variáveis altamente correlacionadas podem influenciar desproporcionalmente as distâncias entre os pontos, levando a possíveis distorções nos clusters formados.</p>
<p>Precisamos considerar os pontos de Multicolinearidade (se duas variáveis são altamente correlacionadas)a escala das variáveis (já que o KMeans é sensível à escala e a redução de dimensionalidade (para acelerar o processo de agrupamento quando se tem um grande número de variáveis).</p>
<p>Portanto, antes de aplicar o KMeans, vamos analisar a correlação dos dados categóricos primeiramente. Vamos utilizar o Cramér’s V. que é uma medida de associação entre duas variáveis categóricas, mede quão associadas estão duas variáveis nominais.</p>
<section id="calculando-matriz-de-cramers-v-e-fazendo-a-análise" class="level3">
<h3 data-anchor-id="calculando-matriz-de-cramers-v-e-fazendo-a-análise">Calculando Matriz de Cramer’s V e fazendo a análise:</h3>
<div id="e69f1117" class="cell" data-execution_count="18">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Função para calcular Cramer's V</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> cramers_v(x, y):</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    confusion_matrix <span class="op">=</span> pd.crosstab(x, y)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    chi2 <span class="op">=</span> chi2_contingency(confusion_matrix, correction<span class="op">=</span><span class="va">False</span>)[<span class="dv">0</span>]</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> confusion_matrix.<span class="bu">sum</span>().<span class="bu">sum</span>()</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    phi2 <span class="op">=</span> chi2 <span class="op">/</span> n</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    r, k <span class="op">=</span> confusion_matrix.shape</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    phi2corr <span class="op">=</span> <span class="bu">max</span>(<span class="dv">0</span>, phi2 <span class="op">-</span> ((k<span class="op">-</span><span class="dv">1</span>)<span class="op">*</span>(r<span class="op">-</span><span class="dv">1</span>)) <span class="op">/</span> (n<span class="op">-</span><span class="dv">1</span>))</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    rcorr <span class="op">=</span> r <span class="op">-</span> ((r<span class="op">-</span><span class="dv">1</span>)<span class="op">**</span><span class="dv">2</span>) <span class="op">/</span> (n<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    kcorr <span class="op">=</span> k <span class="op">-</span> ((k<span class="op">-</span><span class="dv">1</span>)<span class="op">**</span><span class="dv">2</span>) <span class="op">/</span> (n<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.sqrt(phi2corr <span class="op">/</span> <span class="bu">min</span>((kcorr<span class="op">-</span><span class="dv">1</span>), (rcorr<span class="op">-</span><span class="dv">1</span>)))</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando matriz </span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df_gf</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>categorical_columns <span class="op">=</span> df.columns</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Criar uma matriz vazia</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>cramers_results <span class="op">=</span> pd.DataFrame(np.zeros((<span class="bu">len</span>(categorical_columns), <span class="bu">len</span>(categorical_columns))),</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>                               index<span class="op">=</span>categorical_columns,</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>                               columns<span class="op">=</span>categorical_columns)</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Preencher a matriz</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col1 <span class="kw">in</span> categorical_columns:</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> col2 <span class="kw">in</span> categorical_columns:</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>        cramers_results.loc[col1, col2] <span class="op">=</span> cramers_v(df[col1], df[col2])</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimindo a mtriz</span></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>cramers_results</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="18">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">pergunta_1</th>
<th data-quarto-table-cell-role="th">pergunta_2</th>
<th data-quarto-table-cell-role="th">pergunta_3</th>
<th data-quarto-table-cell-role="th">pergunta_4</th>
<th data-quarto-table-cell-role="th">pergunta_5</th>
<th data-quarto-table-cell-role="th">pergunta_6</th>
<th data-quarto-table-cell-role="th">pergunta_7</th>
<th data-quarto-table-cell-role="th">pergunta_8</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">pergunta_1</td>
<td>1.000000</td>
<td>0.154443</td>
<td>0.000000</td>
<td>0.353861</td>
<td>0.193979</td>
<td>0.174872</td>
<td>0.150004</td>
<td>0.261624</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">pergunta_2</td>
<td>0.154443</td>
<td>1.000000</td>
<td>0.080247</td>
<td>0.217220</td>
<td>0.319514</td>
<td>0.159740</td>
<td>0.196799</td>
<td>0.175146</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">pergunta_3</td>
<td>0.000000</td>
<td>0.080247</td>
<td>1.000000</td>
<td>0.104207</td>
<td>0.099763</td>
<td>0.079644</td>
<td>0.102016</td>
<td>0.105724</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">pergunta_4</td>
<td>0.353861</td>
<td>0.217220</td>
<td>0.104207</td>
<td>1.000000</td>
<td>0.255274</td>
<td>0.215382</td>
<td>0.264954</td>
<td>0.324603</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">pergunta_5</td>
<td>0.193979</td>
<td>0.319514</td>
<td>0.099763</td>
<td>0.255274</td>
<td>1.000000</td>
<td>0.286524</td>
<td>0.228514</td>
<td>0.235780</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">pergunta_6</td>
<td>0.174872</td>
<td>0.159740</td>
<td>0.079644</td>
<td>0.215382</td>
<td>0.286524</td>
<td>1.000000</td>
<td>0.195961</td>
<td>0.227248</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">pergunta_7</td>
<td>0.150004</td>
<td>0.196799</td>
<td>0.102016</td>
<td>0.264954</td>
<td>0.228514</td>
<td>0.195961</td>
<td>1.000000</td>
<td>0.305950</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">pergunta_8</td>
<td>0.261624</td>
<td>0.175146</td>
<td>0.105724</td>
<td>0.324603</td>
<td>0.235780</td>
<td>0.227248</td>
<td>0.305950</td>
<td>1.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
</section>
<section id="visualizando-a-matriz-de-correlação" class="level1">
<h1>Visualizando a matriz de correlação:</h1>
<div id="60558997" class="cell" data-execution_count="19">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">8</span>))</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>sns.heatmap(cramers_results, annot<span class="op">=</span><span class="va">True</span>, cmap<span class="op">=</span><span class="st">'coolwarm'</span>, vmin<span class="op">=</span><span class="dv">0</span>, vmax<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Cramér's V - Correlação entre as variáveis categóricas"</span>)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="AnaliseMarketingCasalProspero_files/figure-html/cell-20-output-1.png" width="797" height="717" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Não possuimos variáveis altamente correlacionadas, mas vamos analisar as três maiores correlações para avaliar a consistência desse dataset.</p>
<section id="avaliando-as-três-maiores-correalações" class="level6">
<h6 data-anchor-id="avaliando-as-três-maiores-correalações">Avaliando as três maiores correalações:</h6>
<div id="7eab3e36" class="cell" data-execution_count="20">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Transformar a matriz em long format (par variável - valor de correlação)</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>corr_pairs <span class="op">=</span> (</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    cramers_results.where(np.triu(np.ones(cramers_results.shape), k<span class="op">=</span><span class="dv">1</span>).astype(<span class="bu">bool</span>))  <span class="co"># pegar só triângulo superior (evita repetição)</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    .stack()  <span class="co"># transformar em Series com MultiIndex</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    .reset_index()</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>corr_pairs.columns <span class="op">=</span> [<span class="st">'1'</span>, <span class="st">'2'</span>, <span class="st">'Cramers_V'</span>]</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Ordenar pelas maiores correlações</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>top_corr <span class="op">=</span> corr_pairs.sort_values(by<span class="op">=</span><span class="st">'Cramers_V'</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">3</span>)</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(top_corr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>             1           2  Cramers_V
2   pergunta_1  pergunta_4   0.353861
21  pergunta_4  pergunta_8   0.324603
9   pergunta_2  pergunta_5   0.319514</code></pre>
</div>
</div>
</section>
<section id="analisando-corelação-entre-perguntas-1-e-4" class="level6">
<h6 data-anchor-id="analisando-corelação-entre-perguntas-1-e-4">Analisando corelação entre perguntas 1 e 4:</h6>
<div id="197c92a3" class="cell" data-execution_count="21">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>perguntas_dict[<span class="st">"pergunta_1"</span>][<span class="st">"texto"</span>], perguntas_dict[<span class="st">"pergunta_4"</span>][<span class="st">"texto"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>('Nível de clareza sobre o casamento dos sonhos: Como vocês descreveriam o nível de clareza que têm sobre o casamento que desejam?',
 'Nível de organização do planejamento: Como vocês estão se organizando para planejar o casamento?')</code></pre>
</div>
</div>
<p>Essa correlação faz sentido pois quem tem clareza sobre o casamento que deseja tende a estar mais organizado em relação ao planejamento.</p>
</section>
<section id="analisando-correlação-entre-perguntas-4-e-8" class="level6">
<h6 data-anchor-id="analisando-correlação-entre-perguntas-4-e-8">Analisando correlação entre perguntas 4 e 8:</h6>
<div id="147793cd" class="cell" data-execution_count="22">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>perguntas_dict[<span class="st">"pergunta_4"</span>][<span class="st">"texto"</span>], perguntas_dict[<span class="st">"pergunta_8"</span>][<span class="st">"texto"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>('Nível de organização do planejamento: Como vocês estão se organizando para planejar o casamento?',
 'Comprometimento em tornar esse sonho realidade: O quanto vocês estão comprometidos em transformar esse sonho em realidade?')</code></pre>
</div>
</div>
<p>Essa correlação também faz sentido pois quem está mais organizado estará mais comprometido em realizar o casamento</p>
</section>
<section id="analisando-correlação-entre-perguntas-2-e-5" class="level6">
<h6 data-anchor-id="analisando-correlação-entre-perguntas-2-e-5">Analisando correlação entre perguntas 2 e 5:</h6>
<div id="9d7032a2" class="cell" data-execution_count="23">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>perguntas_dict[<span class="st">"pergunta_2"</span>][<span class="st">"texto"</span>], perguntas_dict[<span class="st">"pergunta_5"</span>][<span class="st">"texto"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>('Situação financeira atual: Como você descreveria a situação financeira atual de vocês dois?',
 'Possibilidade de investimento atual no casamento: Se fossem realizar o casamento ideal hoje, como pagariam?')</code></pre>
</div>
</div>
<p>Essas perguntas também possuem uma correlação justificavel pois a depender da sitação financeira do casal impactará diretamente na possibilidade de investimento atual no casamento.</p>
<p><strong>Conclusão</strong></p>
<ul>
<li>Não existem relações muito fortes entre as perguntas, o que é esperado em questionários bem desenhados onde as perguntas medem aspectos distintos, mesmo que relacionados (não há alto risco de multicolinearidade.).</li>
<li>As maiores correlações são classificadas como moderadas ou fracas, indicando que cada pergunta captura aspectos diferentes do perfil ou situação dos leads.</li>
</ul>
<p>Ainda aplicaresmo o PCA para redução de dimensionalidade, mas não é obrigatória por questões de multicolinearidade entre as variáveis, e sim pois temos ineresse em reduzir complexidade computacional e melhorar a eficiência do KNN em espaços de alta dimensionalidade.</p>
</section>
<section id="aplicação-do-one-hot-encoding" class="level3">
<h3 data-anchor-id="aplicação-do-one-hot-encoding">Aplicação do One-Hot-Encoding</h3>
<p>Como temos muitas features e precisamos alimentar o algoritimo com variáveis numéricas, aplicaremos OHE com a o paramêtro drop_firtst=True. o OHE transforma variáveis categóricas em formato numérico binário, essencial para algoritmos que não lidam nativamente com categorias como é o caso do KMeans.</p>
<section id="aplicando-one-hot-encoding-com-drop_firsttrue" class="level6">
<h6 data-anchor-id="aplicando-one-hot-encoding-com-drop_firsttrue">Aplicando One-Hot Encoding com drop_first=True:</h6>
<div id="86214fa4" class="cell" data-execution_count="24">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Instanciando o codificador</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>ohe <span class="op">=</span> OneHotEncoder(drop<span class="op">=</span><span class="st">'first'</span>, sparse<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajustando e transformando os dados</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>ohe_array <span class="op">=</span> ohe.fit_transform(df_gf)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Pegando os nomes das colunas geradas pelo OHE</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>ohe_columns <span class="op">=</span> ohe.get_feature_names_out(df_gf.columns)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um novo DataFrame com os dados codificados</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>df_gf_ohe <span class="op">=</span> pd.DataFrame(ohe_array, columns<span class="op">=</span>ohe_columns, index<span class="op">=</span>df_gf.index)</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizando amostra aleatória de 10 linhas</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>df_gf_ohe.sample(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="24">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">pergunta_1_B</th>
<th data-quarto-table-cell-role="th">pergunta_1_C</th>
<th data-quarto-table-cell-role="th">pergunta_1_D</th>
<th data-quarto-table-cell-role="th">pergunta_2_B</th>
<th data-quarto-table-cell-role="th">pergunta_2_C</th>
<th data-quarto-table-cell-role="th">pergunta_2_D</th>
<th data-quarto-table-cell-role="th">pergunta_3_B</th>
<th data-quarto-table-cell-role="th">pergunta_3_C</th>
<th data-quarto-table-cell-role="th">pergunta_3_D</th>
<th data-quarto-table-cell-role="th">pergunta_4_B</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">pergunta_5_D</th>
<th data-quarto-table-cell-role="th">pergunta_6_B</th>
<th data-quarto-table-cell-role="th">pergunta_6_C</th>
<th data-quarto-table-cell-role="th">pergunta_6_D</th>
<th data-quarto-table-cell-role="th">pergunta_7_B</th>
<th data-quarto-table-cell-role="th">pergunta_7_C</th>
<th data-quarto-table-cell-role="th">pergunta_7_D</th>
<th data-quarto-table-cell-role="th">pergunta_8_B</th>
<th data-quarto-table-cell-role="th">pergunta_8_C</th>
<th data-quarto-table-cell-role="th">pergunta_8_D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">88</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">465</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">542</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">425</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">264</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">396</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">351</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">548</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">438</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">286</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
</tbody>
</table>

<p>10 rows × 24 columns</p>
</div>
</div>
</div>
<p>Podemos visualizar o uso do parâmetro drop=‘first’ que remove a primeira categoria de cada variável para diminuir a dimensionaliade, temos 24 features no lugar de 32.</p>
</section>
</section>
<section id="aplicação-do-pca" class="level3">
<h3 data-anchor-id="aplicação-do-pca">Aplicação do PCA</h3>
<p>A Análise de Componentes Principais (PCA - Principal Component Analysis) é uma técnica estatística de redução de dimensionalidade que transforma um conjunto de variáveis possivelmente correlacionadas em um novo conjunto de variáveis não correlacionadas, chamadas de componentes principais.</p>
<p>O objetivo para o nosso projeto é capturar o máximo de variabilidade dos dados nos primeiras componentes e facilitar visualização, clustering, classificação e reduzir ruído. O OHE gera um aumento considerável da dimensionalidade (no caso desse projeto, de 8 perguntas para 24 variáveis após <code>drop_first=True</code>.</p>
<section id="aplicando-o-pca" class="level6">
<h6 data-anchor-id="aplicando-o-pca">Aplicando o PCA</h6>
<div id="bd2775d1" class="cell" data-execution_count="25">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Padronizando os dados</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>scaler <span class="op">=</span> StandardScaler()</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>df_scaled <span class="op">=</span> scaler.fit_transform(df_gf_ohe)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Instanciando o PCA</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>pca <span class="op">=</span> PCA()</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajustando o PCA aos dados</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>pca.fit(df_scaled)</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Gerando os componentes principais</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>df_pca <span class="op">=</span> pca.transform(df_scaled)</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertendo em DataFrame para visualização</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>df_pca <span class="op">=</span> pd.DataFrame(df_pca, columns<span class="op">=</span>[<span class="ss">f'PC</span><span class="sc">{</span>i<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="ss">'</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(df_pca.shape[<span class="dv">1</span>])])</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizando as 5 primeiras linhas</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_pca.head())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>        PC1       PC2       PC3       PC4       PC5       PC6       PC7  \
0  0.894431  2.735178 -0.826413  3.137230 -0.409440  0.161323 -0.650989   
1  2.981389 -1.378394  0.998942 -1.971190  0.027095 -1.719077 -1.687937   
2 -1.231628 -0.908463 -0.152123 -0.419888  0.238578  0.347453 -0.037611   
3 -1.217156 -0.110358 -1.339276 -0.422707 -0.274758  0.304763 -1.688694   
4 -1.842543 -1.716992 -1.497125  0.169806 -0.275240 -0.392597  0.011479   

        PC8       PC9      PC10  ...      PC15      PC16      PC17      PC18  \
0 -0.982705 -0.015318 -2.118046  ... -1.322269 -1.216456  0.611138 -1.027353   
1  1.375810  0.359631  1.131436  ... -1.148633  1.284379  2.483504  0.253910   
2  0.819806 -0.162855 -0.752639  ...  1.033716 -0.966877  0.895287 -0.054726   
3 -1.809124  0.729512  0.755415  ... -0.506001  0.649595 -1.187464 -0.104447   
4 -0.020066 -0.155247  0.608450  ...  0.350160  0.626633  0.647278  1.009298   

       PC19      PC20      PC21      PC22      PC23      PC24  
0 -0.089755  1.457162 -0.171782 -0.607896  0.618231 -0.156277  
1 -1.530543 -1.048446  0.320573 -0.063387  2.119997 -0.119219  
2 -0.394803 -0.066319  1.049833 -0.495020  0.547988 -0.459000  
3  0.070163 -0.923953 -1.024069  0.028527 -0.228793  1.166666  
4  0.507244  1.303698 -0.514279 -0.323762 -0.036504 -0.127500  

[5 rows x 24 columns]</code></pre>
</div>
</div>
<p>O resultado da análise de componentes principais tem como inuito nos dar base para decidirmos quantas variáveis iremos utilizar e quanta variância total conseguimos explicar nesse dataset. Portanto devemos escolher entre 01 a 24 PCs e tomar uma decisão com base em “quanto queremos explicar desses dados”, ou seja o mínimo de componentes necessários para ter máximo de interpretabilidade.</p>
</section>
<section id="gráfico-da-variância-acumulada" class="level6">
<h6 data-anchor-id="gráfico-da-variância-acumulada">Gráfico da Variância Acumulada:</h6>
<div id="bd031346" class="cell" data-execution_count="26">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dados da variância explicada</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>variancia_acumulada <span class="op">=</span> np.cumsum(pca.explained_variance_ratio_)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando a figura</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>fig.add_trace(</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    go.Scatter(</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="bu">len</span>(variancia_acumulada) <span class="op">+</span> <span class="dv">1</span>)),</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>variancia_acumulada,</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'lines+markers'</span>,</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>        line<span class="op">=</span><span class="bu">dict</span>(dash<span class="op">=</span><span class="st">'dash'</span>, width<span class="op">=</span><span class="dv">2</span>),</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">8</span>, color<span class="op">=</span><span class="st">'blue'</span>),</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="st">'Variância Acumulada'</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Scree Plot - Variância Explicada pelo PCA'</span>,</span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">'Número de Componentes'</span>,</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">'Variância Explicada Acumulada'</span>,</span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">'plotly_white'</span>,</span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">800</span>,</span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">500</span></span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>                            <div id="3f523196-4cf3-4685-beb8-3d4886643046" class="plotly-graph-div" style="height:500px; width:800px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("3f523196-4cf3-4685-beb8-3d4886643046")) {                    Plotly.newPlot(                        "3f523196-4cf3-4685-beb8-3d4886643046",                        [{"line":{"dash":"dash","width":2},"marker":{"color":"blue","size":8},"mode":"lines+markers","name":"Variância Acumulada","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],"y":[0.13759802757928394,0.22765043608046415,0.3031767232644114,0.3644914714909132,0.4218413042496013,0.47546234467257853,0.5268475522039237,0.5758533800031951,0.6220291212367995,0.6665572136843496,0.7074423919947582,0.7466128243474458,0.7820053173081175,0.8163986381668167,0.8469600989596167,0.8755490565659699,0.9031484683919039,0.9261428521355771,0.9451561693999189,0.9601154166165393,0.9721266140675611,0.9833229668082651,0.9939344557510251,0.9999999999999997],"type":"scatter"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"title":{"text":"Scree Plot - Variância Explicada pelo PCA"},"xaxis":{"title":{"text":"Número de Componentes"}},"yaxis":{"title":{"text":"Variância Explicada Acumulada"}},"width":800,"height":500},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('3f523196-4cf3-4685-beb8-3d4886643046');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="visualizando-a-variância-explicada-por-cada-componente" class="level6">
<h6 data-anchor-id="visualizando-a-variância-explicada-por-cada-componente">Visualizando a variância explicada por cada componente:</h6>
<div id="a4ce2279" class="cell" data-execution_count="27">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, var <span class="kw">in</span> <span class="bu">enumerate</span>(pca.explained_variance_ratio_):</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f'PC</span><span class="sc">{</span>i<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>var<span class="sc">:.4f}</span><span class="ss"> (</span><span class="sc">{</span>np<span class="sc">.</span>cumsum(pca.explained_variance_ratio_)[i]<span class="sc">:.4f}</span><span class="ss"> acumulado)'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>PC1: 0.1376 (0.1376 acumulado)
PC2: 0.0901 (0.2277 acumulado)
PC3: 0.0755 (0.3032 acumulado)
PC4: 0.0613 (0.3645 acumulado)
PC5: 0.0573 (0.4218 acumulado)
PC6: 0.0536 (0.4755 acumulado)
PC7: 0.0514 (0.5268 acumulado)
PC8: 0.0490 (0.5759 acumulado)
PC9: 0.0462 (0.6220 acumulado)
PC10: 0.0445 (0.6666 acumulado)
PC11: 0.0409 (0.7074 acumulado)
PC12: 0.0392 (0.7466 acumulado)
PC13: 0.0354 (0.7820 acumulado)
PC14: 0.0344 (0.8164 acumulado)
PC15: 0.0306 (0.8470 acumulado)
PC16: 0.0286 (0.8755 acumulado)
PC17: 0.0276 (0.9031 acumulado)
PC18: 0.0230 (0.9261 acumulado)
PC19: 0.0190 (0.9452 acumulado)
PC20: 0.0150 (0.9601 acumulado)
PC21: 0.0120 (0.9721 acumulado)
PC22: 0.0112 (0.9833 acumulado)
PC23: 0.0106 (0.9939 acumulado)
PC24: 0.0061 (1.0000 acumulado)</code></pre>
</div>
</div>
<p>Optamos por utilizar 17 componentes principais, que preservam 90,31% da variância total do dataset, garantindo um equilíbrio entre simplificação dos dados e manutenção da informação. Esse valor foi determinado com base na análise do scree plot e da distribuição acumulada de variância, que mostra ausência de cotovelo claro, característico de dados categóricos. Essa estratégia permite acelerar o processamento, melhorar a performance do modelo e ainda manter robustez analítica.</p>
</section>
</section>
<section id="definindo-o-valor-de-k-em-modelos-de-clusterização" class="level3">
<h3 data-anchor-id="definindo-o-valor-de-k-em-modelos-de-clusterização">Definindo o Valor de K em Modelos de Clusterização</h3>
<p>O algoritmo KMeans é uma técnica de agrupamento de dados que organiza um conjunto de pontos em grupos (ou “clusters”) com base em suas semelhanças. A escolha do valor adequado de k é uma etapa importante do projeto, pois pode afetar significativamente a utilidade dos clusters formados, para isso utlizaremos o Elbow Method (Método do Cotovelo) e o Silhouette Score para auxiliar a definir um ótimo valor para k.</p>
<p><strong>Definindo o valor ideal de K</strong></p>
<section id="gerando-dataset-com-17-componentes-principais" class="level6">
<h6 data-anchor-id="gerando-dataset-com-17-componentes-principais">Gerando Dataset com 17 componentes principais:</h6>
<div id="88f045bf" class="cell" data-execution_count="28">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>pca <span class="op">=</span> PCA(n_components<span class="op">=</span><span class="dv">17</span>)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>df_pca <span class="op">=</span> pca.fit_transform(df_gf_ohe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="método-do-cotovelo" class="level6">
<h6 data-anchor-id="método-do-cotovelo">Método do Cotovelo:</h6>
<div id="6628f98c" class="cell" data-execution_count="29">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>inertia <span class="op">=</span> []</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>K_range <span class="op">=</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> k <span class="kw">in</span> K_range:</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    kmeans <span class="op">=</span> KMeans(n_clusters<span class="op">=</span>k, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    kmeans.fit(df_pca)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>    inertia.append(kmeans.inertia_)</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot do Elbow</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>fig.add_trace(</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>    go.Scatter(</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="bu">list</span>(K_range),  <span class="co"># Convertendo range para lista</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>inertia,</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'lines+markers'</span>,</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">8</span>, color<span class="op">=</span><span class="st">'blue'</span>),</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>        line<span class="op">=</span><span class="bu">dict</span>(width<span class="op">=</span><span class="dv">2</span>),</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="st">'Inertia'</span></span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Método do Cotovelo'</span>,</span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">'Número de Clusters (K)'</span>,</span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">'Inertia'</span>,</span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">'plotly_white'</span>,</span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">800</span>,</span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">500</span></span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>                            <div id="86cc4679-97fd-41b3-b45c-b069c1678c78" class="plotly-graph-div" style="height:500px; width:800px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("86cc4679-97fd-41b3-b45c-b069c1678c78")) {                    Plotly.newPlot(                        "86cc4679-97fd-41b3-b45c-b069c1678c78",                        [{"line":{"width":2},"marker":{"color":"blue","size":8},"mode":"lines+markers","name":"Inertia","x":[1,2,3,4,5,6,7,8,9,10],"y":[1673.6667930380645,1478.8961527795857,1375.2032088479555,1292.4191442086692,1237.170901883797,1192.423458903025,1149.003123298292,1112.724969638827,1085.002753510032,1057.190294458451],"type":"scatter"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"title":{"text":"Método do Cotovelo"},"xaxis":{"title":{"text":"Número de Clusters (K)"}},"yaxis":{"title":{"text":"Inertia"}},"width":800,"height":500},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('86cc4679-97fd-41b3-b45c-b069c1678c78');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>Interpretação: avalia a soma das distâncias quadráticas internas aos clusters (Soma dos Erros Quadrados - SSE) em função de diferentes valores de k. À medida que k aumenta, o erro diminui, pois os clusters ficam menores e mais específicos. No gráfico de SSE vs.&nbsp;k, busca-se o ponto onde há uma “quebra” ou “dobra” (um cotovelo). Esse ponto indica que aumentar k além dali traz ganhos marginais na redução do erro, sinalizando o número ótimo de clusters.</p>
<p>Conseguimos ver onde a curva forma um cotovelo entre os valores 2 e 3, sendo o valor k=2 um pouco mais acentuado em sua curvatura sugerindo o melhor valor de K, porém não fica muito distinto para k=3</p>
</section>
<section id="índice-de-silhouette" class="level6">
<h6 data-anchor-id="índice-de-silhouette">Índice de Silhouette:</h6>
<div id="5f162870" class="cell" data-execution_count="30">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>silhouette_scores <span class="op">=</span> []</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>K_range_sil <span class="op">=</span> <span class="bu">range</span>(<span class="dv">2</span>, <span class="dv">11</span>)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> k <span class="kw">in</span> K_range_sil:</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    kmeans <span class="op">=</span> KMeans(n_clusters<span class="op">=</span>k, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>    labels <span class="op">=</span> kmeans.fit_predict(df_pca)</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    score <span class="op">=</span> silhouette_score(df_pca, labels)</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    silhouette_scores.append(score)</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>fig_silhouette <span class="op">=</span> go.Figure()</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>fig_silhouette.add_trace(</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>    go.Scatter(</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="bu">list</span>(K_range_sil),</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>silhouette_scores,</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'lines+markers'</span>,</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>            size<span class="op">=</span><span class="dv">8</span>,</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span><span class="st">'blue'</span>,</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>            symbol<span class="op">=</span><span class="st">'circle'</span></span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>        line<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>            width<span class="op">=</span><span class="dv">2</span>,</span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span><span class="st">'blue'</span></span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="st">'Silhouette Score'</span></span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb41-26"><a href="#cb41-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-27"><a href="#cb41-27" aria-hidden="true" tabindex="-1"></a>fig_silhouette.update_layout(</span>
<span id="cb41-28"><a href="#cb41-28" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Análise do Índice de Silhouette'</span>,</span>
<span id="cb41-29"><a href="#cb41-29" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">'Número de Clusters (K)'</span>,</span>
<span id="cb41-30"><a href="#cb41-30" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">'Silhouette Score'</span>,</span>
<span id="cb41-31"><a href="#cb41-31" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">'plotly_white'</span>,</span>
<span id="cb41-32"><a href="#cb41-32" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">800</span>,</span>
<span id="cb41-33"><a href="#cb41-33" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">500</span></span>
<span id="cb41-34"><a href="#cb41-34" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb41-35"><a href="#cb41-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-36"><a href="#cb41-36" aria-hidden="true" tabindex="-1"></a>fig_silhouette.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>                            <div id="de8df460-d778-4d15-9661-ce679cee0359" class="plotly-graph-div" style="height:500px; width:800px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("de8df460-d778-4d15-9661-ce679cee0359")) {                    Plotly.newPlot(                        "de8df460-d778-4d15-9661-ce679cee0359",                        [{"line":{"color":"blue","width":2},"marker":{"color":"blue","size":8,"symbol":"circle"},"mode":"lines+markers","name":"Silhouette Score","x":[2,3,4,5,6,7,8,9,10],"y":[0.11988114338535223,0.12394148922394936,0.10173505078379898,0.0961344356611015,0.10226297238729282,0.1044342980158682,0.09393340196500537,0.10938429847053832,0.10230675358450549],"type":"scatter"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"title":{"text":"Análise do Índice de Silhouette"},"xaxis":{"title":{"text":"Número de Clusters (K)"}},"yaxis":{"title":{"text":"Silhouette Score"}},"width":800,"height":500},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('de8df460-d778-4d15-9661-ce679cee0359');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="verificando-os-valores-de-silhouette" class="level6">
<h6 data-anchor-id="verificando-os-valores-de-silhouette">Verificando os valores de silhouette:</h6>
<div id="4802d014" class="cell" data-execution_count="31">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> k, score <span class="kw">in</span> <span class="bu">zip</span>(K_range_sil, silhouette_scores):</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"K=</span><span class="sc">{</span>k<span class="sc">}</span><span class="ss">: Silhouette Score=</span><span class="sc">{</span>score<span class="sc">:.4f}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>K=2: Silhouette Score=0.1199
K=3: Silhouette Score=0.1239
K=4: Silhouette Score=0.1017
K=5: Silhouette Score=0.0961
K=6: Silhouette Score=0.1023
K=7: Silhouette Score=0.1044
K=8: Silhouette Score=0.0939
K=9: Silhouette Score=0.1094
K=10: Silhouette Score=0.1023</code></pre>
</div>
</div>
<p>Interpretação: Os valoresm medem a qualidade dos clusters calculando o quão semelhante um ponto é ao seu próprio cluster em comparação com outros clusters. O valor varia entre -1 (má agrupamento) e 1 (ótimo agrupamento).Aqui consiguimos visualizar o melhor valor para k=3, mas muito próximo para k=2.</p>
</section>
</section>
<section id="resultados-e-decisão" class="level3">
<h3 data-anchor-id="resultados-e-decisão">Resultados e decisão</h3>
<p><strong>Método do Cotovelo - K = 2</strong> O cotovelo mostra onde a redução da inércia começa a se estabilizar.</p>
<p>Interpretação prática: Os dados podem ter duas macro estruturas, ou seja, uma divisão mais grosseira.</p>
<p><strong>Silhouette - Melhor em K = 3</strong> O maior valor de silhouette (0.1239) ocorre com K=3.</p>
<p>Vamos utilizar k = 2 e k=3 e analisar qual algoritimo melhor se encaixa para nosso projeto</p>
<section id="aplicando-algoritimo-kmeans-para-k2-e-k3" class="level6">
<h6 data-anchor-id="aplicando-algoritimo-kmeans-para-k2-e-k3">Aplicando Algoritimo KMeans para K=2 e K=3:</h6>
<div id="4ebbd14d" class="cell" data-execution_count="32">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aplicar KMeans para k=2</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>kmeans_k2 <span class="op">=</span> KMeans(n_clusters<span class="op">=</span><span class="dv">2</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>clusters_k2 <span class="op">=</span> kmeans_k2.fit_predict(df_pca)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co"># DataFrame com clusters K=2</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>df_clusters_k2 <span class="op">=</span> pd.DataFrame(df_pca, columns<span class="op">=</span>[<span class="ss">f'PC</span><span class="sc">{</span>i<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="ss">'</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(df_pca.shape[<span class="dv">1</span>])])</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>df_clusters_k2[<span class="st">'Cluster'</span>] <span class="op">=</span> clusters_k2</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Aplicar KMeans para K=3</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>kmeans_k3 <span class="op">=</span> KMeans(n_clusters<span class="op">=</span><span class="dv">3</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>clusters_k3 <span class="op">=</span> kmeans_k3.fit_predict(df_pca)</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a><span class="co"># DataFrame com clusters K=3</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>df_clusters_k3 <span class="op">=</span> pd.DataFrame(df_pca, columns<span class="op">=</span>[<span class="ss">f'PC</span><span class="sc">{</span>i<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="ss">'</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(df_pca.shape[<span class="dv">1</span>])])</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>df_clusters_k3[<span class="st">'Cluster'</span>] <span class="op">=</span> clusters_k3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="avaliação-quantitativa-dos-dois-modelos-silhouete-score" class="level6">
<h6 data-anchor-id="avaliação-quantitativa-dos-dois-modelos-silhouete-score">Avaliação Quantitativa dos dois modelos – Silhouete Score:</h6>
<div id="ddb2c3ac" class="cell" data-execution_count="33">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>silhouette_k2 <span class="op">=</span> silhouette_score(df_pca, clusters_k2)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>silhouette_k3 <span class="op">=</span> silhouette_score(df_pca, clusters_k3)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Silhouette Score K=2: </span><span class="sc">{</span>silhouette_k2<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Silhouette Score K=3: </span><span class="sc">{</span>silhouette_k3<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Silhouette Score K=2: 0.11988114338535223
Silhouette Score K=3: 0.12394148922394936</code></pre>
</div>
</div>
</section>
<section id="distribuição-dos-clusters" class="level6">
<h6 data-anchor-id="distribuição-dos-clusters">Distribuição dos Clusters:</h6>
<div id="949a998f" class="cell" data-execution_count="34">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Distribuição dos Clusters</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Distribuição dos Clusters - K=2"</span>)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pd.Series(clusters_k2).value_counts())</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Distribuição dos Clusters - K=3"</span>)</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pd.Series(clusters_k3).value_counts())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Distribuição dos Clusters - K=2
1    252
0    243
Name: count, dtype: int64

Distribuição dos Clusters - K=3
1    234
0    206
2     55
Name: count, dtype: int64</code></pre>
</div>
</div>
</section>
<section id="comparativo-entre-k2-e-k3" class="level6">
<h6 data-anchor-id="comparativo-entre-k2-e-k3">Comparativo entre K=2 e K=3:</h6>
<div id="7fac5459" class="cell" data-execution_count="35">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> make_subplots(rows<span class="op">=</span><span class="dv">1</span>, cols<span class="op">=</span><span class="dv">2</span>, subplot_titles<span class="op">=</span>(<span class="st">'Clusters com K=2'</span>, <span class="st">'Clusters com K=3'</span>))</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Cores para K=2</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>unique_clusters_k2 <span class="op">=</span> <span class="bu">sorted</span>(df_clusters_k2[<span class="st">'Cluster'</span>].unique())</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">len</span>(unique_clusters_k2) <span class="op">&gt;</span> <span class="dv">1</span>:</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    colors_k2 <span class="op">=</span> pcolors.sample_colorscale(<span class="st">"Viridis"</span>, np.linspace(<span class="dv">0</span>, <span class="dv">1</span>, <span class="bu">len</span>(unique_clusters_k2)))</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> <span class="bu">len</span>(unique_clusters_k2) <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>    colors_k2 <span class="op">=</span> [pcolors.sample_colorscale(<span class="st">"Viridis"</span>, <span class="fl">0.5</span>)[<span class="dv">0</span>]]</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>    colors_k2 <span class="op">=</span> []</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, cluster_val <span class="kw">in</span> <span class="bu">enumerate</span>(unique_clusters_k2):</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>    df_subset <span class="op">=</span> df_clusters_k2[df_clusters_k2[<span class="st">'Cluster'</span>] <span class="op">==</span> cluster_val]</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(go.Scatter(</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>df_subset[<span class="st">'PC1'</span>],</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>df_subset[<span class="st">'PC2'</span>],</span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'markers'</span>,</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span>colors_k2[i],</span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>            opacity<span class="op">=</span><span class="fl">0.7</span>,</span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a>            size<span class="op">=</span><span class="dv">7</span></span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="ss">f'K=2, Cluster </span><span class="sc">{</span>cluster_val<span class="sc">}</span><span class="ss">'</span>,</span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a>        legendgroup<span class="op">=</span><span class="st">'k2_group'</span></span>
<span id="cb49-25"><a href="#cb49-25" aria-hidden="true" tabindex="-1"></a>    ), row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb49-26"><a href="#cb49-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-27"><a href="#cb49-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Cores fixas para K=3 (vermelho, azul, verde)</span></span>
<span id="cb49-28"><a href="#cb49-28" aria-hidden="true" tabindex="-1"></a>cores_k3 <span class="op">=</span> [<span class="st">'red'</span>, <span class="st">'blue'</span>, <span class="st">'green'</span>]</span>
<span id="cb49-29"><a href="#cb49-29" aria-hidden="true" tabindex="-1"></a>unique_clusters_k3 <span class="op">=</span> <span class="bu">sorted</span>(df_clusters_k3[<span class="st">'Cluster'</span>].unique())</span>
<span id="cb49-30"><a href="#cb49-30" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, cluster_val <span class="kw">in</span> <span class="bu">enumerate</span>(unique_clusters_k3):</span>
<span id="cb49-31"><a href="#cb49-31" aria-hidden="true" tabindex="-1"></a>    df_subset <span class="op">=</span> df_clusters_k3[df_clusters_k3[<span class="st">'Cluster'</span>] <span class="op">==</span> cluster_val]</span>
<span id="cb49-32"><a href="#cb49-32" aria-hidden="true" tabindex="-1"></a>    cor <span class="op">=</span> cores_k3[i <span class="op">%</span> <span class="bu">len</span>(cores_k3)]</span>
<span id="cb49-33"><a href="#cb49-33" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(go.Scatter(</span>
<span id="cb49-34"><a href="#cb49-34" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>df_subset[<span class="st">'PC1'</span>],</span>
<span id="cb49-35"><a href="#cb49-35" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>df_subset[<span class="st">'PC2'</span>],</span>
<span id="cb49-36"><a href="#cb49-36" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'markers'</span>,</span>
<span id="cb49-37"><a href="#cb49-37" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb49-38"><a href="#cb49-38" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span>cor,</span>
<span id="cb49-39"><a href="#cb49-39" aria-hidden="true" tabindex="-1"></a>            opacity<span class="op">=</span><span class="fl">0.7</span>,</span>
<span id="cb49-40"><a href="#cb49-40" aria-hidden="true" tabindex="-1"></a>            size<span class="op">=</span><span class="dv">7</span></span>
<span id="cb49-41"><a href="#cb49-41" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb49-42"><a href="#cb49-42" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="ss">f'K=3, Cluster </span><span class="sc">{</span>cluster_val<span class="sc">}</span><span class="ss">'</span>,</span>
<span id="cb49-43"><a href="#cb49-43" aria-hidden="true" tabindex="-1"></a>        legendgroup<span class="op">=</span><span class="st">'k3_group'</span></span>
<span id="cb49-44"><a href="#cb49-44" aria-hidden="true" tabindex="-1"></a>    ), row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb49-45"><a href="#cb49-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-46"><a href="#cb49-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajustando eixos</span></span>
<span id="cb49-47"><a href="#cb49-47" aria-hidden="true" tabindex="-1"></a>fig.update_xaxes(title_text<span class="op">=</span><span class="st">"PC1"</span>, row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb49-48"><a href="#cb49-48" aria-hidden="true" tabindex="-1"></a>fig.update_yaxes(title_text<span class="op">=</span><span class="st">"PC2"</span>, row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb49-49"><a href="#cb49-49" aria-hidden="true" tabindex="-1"></a>fig.update_xaxes(title_text<span class="op">=</span><span class="st">"PC1"</span>, row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb49-50"><a href="#cb49-50" aria-hidden="true" tabindex="-1"></a>fig.update_yaxes(title_text<span class="op">=</span><span class="st">"PC2"</span>, row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb49-51"><a href="#cb49-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-52"><a href="#cb49-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Layout ajustado (e ocultando a legenda)</span></span>
<span id="cb49-53"><a href="#cb49-53" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb49-54"><a href="#cb49-54" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">1100</span>,</span>
<span id="cb49-55"><a href="#cb49-55" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">550</span>,</span>
<span id="cb49-56"><a href="#cb49-56" aria-hidden="true" tabindex="-1"></a>    hovermode<span class="op">=</span><span class="st">'closest'</span>,</span>
<span id="cb49-57"><a href="#cb49-57" aria-hidden="true" tabindex="-1"></a>    showlegend<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb49-58"><a href="#cb49-58" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span>{</span>
<span id="cb49-59"><a href="#cb49-59" aria-hidden="true" tabindex="-1"></a>        <span class="st">'text'</span>: <span class="st">"Distribuição dos Clusters no espaço para K=1 e K=2"</span>,</span>
<span id="cb49-60"><a href="#cb49-60" aria-hidden="true" tabindex="-1"></a>        <span class="st">'y'</span>: <span class="fl">0.97</span>,</span>
<span id="cb49-61"><a href="#cb49-61" aria-hidden="true" tabindex="-1"></a>        <span class="st">'x'</span>: <span class="fl">0.5</span>,</span>
<span id="cb49-62"><a href="#cb49-62" aria-hidden="true" tabindex="-1"></a>        <span class="st">'xanchor'</span>: <span class="st">'center'</span>,</span>
<span id="cb49-63"><a href="#cb49-63" aria-hidden="true" tabindex="-1"></a>        <span class="st">'yanchor'</span>: <span class="st">'top'</span>,</span>
<span id="cb49-64"><a href="#cb49-64" aria-hidden="true" tabindex="-1"></a>        <span class="st">'pad'</span>: {<span class="st">'b'</span>: <span class="dv">25</span>}</span>
<span id="cb49-65"><a href="#cb49-65" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb49-66"><a href="#cb49-66" aria-hidden="true" tabindex="-1"></a>    margin<span class="op">=</span><span class="bu">dict</span>(t<span class="op">=</span><span class="dv">80</span>, b<span class="op">=</span><span class="dv">50</span>, l<span class="op">=</span><span class="dv">40</span>, r<span class="op">=</span><span class="dv">40</span>),</span>
<span id="cb49-67"><a href="#cb49-67" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">'plotly_white'</span></span>
<span id="cb49-68"><a href="#cb49-68" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-69"><a href="#cb49-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-70"><a href="#cb49-70" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>                            <div id="708d27b7-2892-4dc9-9e3b-74ddf61417e1" class="plotly-graph-div" style="height:550px; width:1100px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("708d27b7-2892-4dc9-9e3b-74ddf61417e1")) {                    Plotly.newPlot(                        "708d27b7-2892-4dc9-9e3b-74ddf61417e1",                        [{"legendgroup":"k2_group","marker":{"color":"rgb(68, 1, 84)","opacity":0.7,"size":7},"mode":"markers","name":"K=2, Cluster 0","x":[0.9470665013008686,-0.24171453372932847,0.8588021332452077,1.1651480811314663,1.3305133090206178,1.3553715534370445,0.2977406183048445,0.3741412602919578,0.9335249959496839,1.355371553437043,0.6462623972347119,-0.22559634829899974,0.07001997350641655,0.7010865897550869,0.032688664313734885,1.497697569600246,0.24309391040469916,0.005156102677577754,1.2496347039277362,1.322755331360171,0.7481322891704522,0.48023921858359236,0.2648672255102003,0.40578845823249254,0.6654754601318291,0.4625883579603327,1.10395397646449,0.16258580124373495,0.2979181029250739,-0.4051164607890124,1.3326559271033227,0.6008879852538621,0.8653230760774157,0.43909449551290264,0.766683280772741,0.3680448655676101,0.6673484371894807,0.3050402565263506,0.10338659456171384,0.23810432688456104,0.4839263195991585,0.15573160440039582,0.20377071599913651,-0.04611314072943637,0.9641979798747319,0.8582009759278358,0.5094426300042455,0.7267232565014483,0.2977406183048442,0.9818636545113033,1.355371553437044,0.4812430602934597,0.23649351718063694,1.0345739501683855,1.543387922793204,0.3342934613192179,0.9443515896655424,0.5644648417271368,0.2977406183048442,0.5292205711906778,1.058889765766102,0.681681181237455,0.34526859848841984,0.335283615748821,1.31675258566571,0.5312195583165532,0.2977406183048442,0.2574553909045898,0.6325306145473796,0.44013818814927486,1.10640648836947,0.9408998949580604,0.0006700897664631682,0.2979181029250739,0.23397154515794297,1.3058305345161327,0.5293164805096788,0.1633841364477033,0.2979181029250739,0.26405578412865194,-0.14997805593757912,0.1767719926405331,0.040790818489785774,1.2738243583101383,1.0052688913702919,0.021617742763603072,0.3078371387925793,0.36225651895281497,0.7122727314559765,0.8824419198115333,0.09776027994532613,0.6464398818549417,1.098548812525707,1.3077693766459086,0.2314187005406782,-0.08167956812651406,0.3378613470281666,0.6314054633383722,0.27272695575523703,-0.29356809184132737,0.15962823769549217,0.07097433702922919,0.2830488070840296,0.2977406183048442,0.24695207367248342,0.9665500986907607,0.34251185861621297,0.1839950471348491,1.7051635362349837,1.4318467093812723,-0.11513103986679192,0.8371689880039012,0.7758276844589896,-0.241941768040069,0.4818873234057486,0.2977406183048442,0.6029683289652303,1.355371553437044,1.2817817090684818,0.8341387893763234,0.2977406183048442,0.3923513347749762,-0.050966786582861946,0.5066375905336703,0.39974363858110706,0.600308608150896,-0.02452341736215348,0.20723191289482396,0.9467541055693532,0.7009091051348576,-0.06451997985466061,-0.07112037307872275,0.6059426105451668,0.48011505235277663,0.9381727666184214,0.7948426749385387,0.5269875281071884,1.0269910565185987,0.20665253579185827,0.896423505399133,0.2362701777800518,0.2977406183048442,0.45951623174662515,-0.04949060522256738,1.2462801754159418,1.6160561572875805,0.5707213260890014,0.14693130734846108,1.2767606183606395,1.0311040036556578,1.3305133090206154,-0.007193852851176088,1.5725253351888524,0.22582662348573118,0.5397175977098366,0.9837928181173374,0.3741590565567453,-0.07207473660153584,-0.0991591775536657,0.2977406183048442,0.407482970136334,0.9806898431224577,0.8723572380144079,0.40770192823733686,0.2178573659312709,0.5214441534058796,0.642339127026801,0.32515974988948415,1.2130942148509631,0.9512915046004543,0.7548894240101753,1.0643206775687075,0.6704061968367591,0.21116184842803168,1.246494878875052,1.4091237166030355,1.2098942507280972,0.0006700897664631682,0.061554080312603066,1.177885714563323,1.606611463001118,0.2302741303301455,0.4932207642118227,0.42521288852973044,0.2592100054757385,1.425948580235833,0.32868506489638255,0.22188204726611516,0.699183511948212,0.22055411998943208,-0.1058128891671418,0.2977406183048442,-0.004744502668254391,0.595125550074579,0.25432227903547633,0.5850936650212316,0.2742764708472025,1.2595211813793983,0.6335667833909744,0.9426817355543063,0.5136058396388897,1.7051635362349837,-0.06583602496363992,0.030369308095199624,0.1523293375133285,0.4578876992506592,0.2642332687488814,0.8548207759589992,0.24815930041877912,0.6164214158459334,0.6493576891196037,0.29131770970101145,0.2977406183048442,1.31675258566571,0.02938149327451204,1.2117915456335988,0.34351856706262873,0.2977406183048442,0.6479232787111284,0.30490087874207855,0.862156298320824,0.44261371199767235,-0.06583602496363992,0.17266625116857612,0.35691440071866576,1.2243749122790673,0.7961687539223926,0.6729635349216767,0.20896223499526312,1.298090265377075,0.2977406183048442,0.8255236964941434,1.5376474810998388,0.5113407951563538,0.1863219488448077,0.8801912202462204,0.4582912376065422,0.2977406183048442,0.7773097471219733,0.3086838890766457,0.10127223104462246,-0.09533134803743393,0.9561065618779788],"y":[0.4867759156508626,0.3475578268334126,0.03394342318168781,-0.9607698796290209,0.4893121222554774,-1.5592612499789926,-0.3581956369093537,0.35574833146569196,0.31015515825819484,-1.5592612499789906,0.1672613734407929,1.4684020400532873,0.3664574102815392,0.01694043097403664,0.24654778769601987,-0.26846002243452466,-0.20763669957613187,1.1194547781477462,0.3861505121895557,-0.12049552108419985,0.7526218481375561,1.0693867345737547,0.18160087571452363,0.7009452180261313,-0.6752858018074075,0.06018220611233758,-0.8844715299838383,0.8561223032061477,-0.3579576420428887,0.7741084847319712,-0.04726416983620031,0.33500774130282457,0.9387770509512078,-0.19968151643289248,0.4766810836430212,0.16114548867975037,0.6186137658471254,0.30922975303739964,0.7251469940833515,-0.27375482571722487,1.6155168121605967,0.5977728496726594,0.08536859184139466,0.5461568884909352,0.2508373752573977,-0.1729157139419048,-0.305310414635318,-0.19542775820787953,-0.35819563690935324,-0.8846033928157356,-1.559261249978991,1.1656220123424175,0.13130107106052813,-0.10055803433262198,-0.36755627311509964,0.3242758137332791,-0.6923721565830553,0.12058334151324618,-0.35819563690935324,1.1601114164746147,0.3113441117257992,0.41829692542068636,1.6319445831062507,-0.13058287271845403,-1.4863265738565674,0.5279130816262378,-0.35819563690935324,0.22483243772395495,-0.40216449749214234,1.0006547176240586,0.05717981888546166,0.5600936945309933,-0.019455306818215806,-0.3579576420428887,0.866415416850911,0.05097908779117559,0.6570412875114217,-0.10363186416928384,-0.3579576420428887,-0.1141053329127049,0.6287270926413849,0.10254626876521715,1.2208669259785194,0.027982250431461235,0.35794010083230454,0.4070185648700823,0.8530662283250889,0.515530184511821,-0.38297842802412874,-0.1932984714655336,0.6058374992844096,0.16749936830725823,0.001977957750226569,-0.6052247176049018,-0.04801266856800428,0.3683519227339305,0.8821265958873818,-0.4754561073495474,-0.005790306996840241,0.16298592973016454,0.7347744737658178,0.499885818770888,0.45406996978857816,-0.35819563690935324,0.26406636861141575,-0.11740018058298991,0.19768637342330025,1.5041243475670905,-0.4052010877060299,-0.567373144868714,1.0468940652661798,-0.5693160849686256,0.5889797114104975,1.1408760776784592,-0.14129270863928092,-0.35819563690935324,0.4327027966799258,-1.559261249978991,-0.9496306329919267,-0.21898501188342373,-0.35819563690935324,-0.5209484087779249,-0.02495746816128692,0.6907097441491742,0.308929105033584,0.8340083125530309,1.3068952719327758,0.26754351428772977,0.41931875296590837,0.016702436107572043,0.4243940648789462,0.7633318355156063,-0.8622534537080249,0.7115657088308492,0.22216831218997693,0.20635933595386108,0.36390280921610274,-1.2628448619482657,0.7665440855379362,0.16599286402222896,-0.036432189910293435,-0.35819563690935324,-0.39584045150028324,1.2700137154809679,-1.112383626194477,-1.0288582966891924,0.4033196923816112,0.8613760050219526,0.020006387837878073,0.8444824261486603,0.4893121222554765,1.0441198275196597,-0.08099364381423364,0.8553790570602398,0.9581752699311137,0.352837861430504,0.5428832599837399,0.6299034270262573,0.5350559603862455,-0.35819563690935324,0.21459059785136325,-1.0022810082480138,0.09614250849260306,-0.24616299827386176,1.2602720384369068,-0.587488745985039,1.293204253015114,-0.14127667876021363,-0.33289291223405637,-0.5034054374882955,0.255676573866326,-0.02065837143073963,-0.35840215442165846,0.17635366190371687,-0.02857794815749798,-0.366112595898865,-0.24324034281354104,-0.019455306818215806,0.34950516944365184,0.7079460635316884,-0.7155756410855026,0.4587699363282583,0.5316594603501078,0.18034561135530133,0.812417899312303,0.053335528907608065,0.6560403020233533,0.29890096466223887,0.14606863685922028,0.8161120058938943,1.2315767618993463,-0.35819563690935324,0.8841744136764931,0.05092215707214286,1.1372915690141232,1.00250145048518,1.4549775580646422,0.31234509721386733,1.1914890350880887,-1.090813935145267,1.428076318375567,-0.4052010877060299,0.9424877531061365,0.9646944152437935,0.9185851929350745,0.7883063331287044,-0.11386733804624041,1.0426327558545176,0.4322728141396239,0.8025043879182014,1.002284297675869,-0.019019871406228753,-0.35819563690935324,-1.4863265738565674,0.1985720248559783,-0.39246064535176595,0.2513095722896028,-0.35819563690935324,0.5495431574292419,0.8610420909186716,0.40042925380313993,1.251109293333958,0.9424877531061365,0.11745741883892176,0.4407207812627557,-0.5273651947294827,1.2498415033993568,0.6992687858691436,1.5410059040188986,-0.1973502652850087,-0.35819563690935324,1.2281040546108823,-0.6811683680287485,0.021087533602287142,0.7209739689455071,0.4509368003344325,1.1654847424068537,-0.35819563690935324,0.730646404482617,0.9041020395423216,0.43972895991398314,0.47816815530816326,0.7241652113186691],"type":"scatter","xaxis":"x","yaxis":"y"},{"legendgroup":"k2_group","marker":{"color":"rgb(253, 231, 37)","opacity":0.7,"size":7},"mode":"markers","name":"K=2, Cluster 1","x":[0.26416047483604493,-0.6139114704750105,-1.0794589065722837,-0.983375424839836,0.7526035587846096,-0.9584902809079727,-0.6257370446487585,-0.5650833828648198,0.053200750429996085,-0.7347867458069371,-0.7204432156479074,-1.2493259380108177,-0.1954969612183276,-1.0311507256097066,-0.2815244392453267,-0.24699503037910236,-0.25147338769528654,-0.6949271019255546,-0.4448315989836734,-0.5628843269129188,-0.8533227128264584,-0.6614197523695914,-1.0466443383640802,-1.076501343024041,-0.6566253762617248,-1.0631672427253827,-1.0428165088478487,-0.7659192295667719,-1.082395166622785,-0.33544169162346443,-0.6743359369143322,-0.6043211007452209,-0.42835036043554847,-0.6004938700756518,-1.0076751560728054,0.009387302859045378,-0.44519378734760806,0.11441006365764403,-0.6043211007452209,-0.39294497695718733,-0.31137910920132794,-1.0631672427253827,-0.7257917884977417,-1.1945017454904432,-0.9532059327928901,-0.35022088251354094,-0.35225136929947776,-0.3561503495126965,-0.6003163854554223,-0.748267952332162,-0.5423090447981317,-0.686052008529131,0.32005564426482586,-0.2759406038267757,0.1889025935862243,-0.9584902809079727,-0.4149745943237128,-0.5994248159896916,-0.41097454203307104,-0.15163576373525253,0.1436392761099656,-1.0631672427253827,-0.5437065027809893,-0.5764243508467295,-0.008514158425123087,-0.9583127962877432,-0.8642199542216736,-0.5408560810780282,-0.7660967141870016,-0.2958932889395004,-0.2516508723155162,-0.9584902809079727,-0.9921751150841649,0.2718149348286934,-0.28265469190581927,0.563612959870775,0.01076807051296736,-0.7602946561669078,-1.0631672427253827,-0.8160045555568723,-0.25147338769528654,-1.0629897581051528,-0.48934616050715146,-0.9584902809079727,-0.5784009208936285,-0.7660967141870016,-0.5582141170358673,-0.9584902809079727,-0.28133039235524737,-0.6614197523695914,-0.6475963046512135,-0.9921751150841649,-0.7495738098256994,-0.3991905998296176,-0.1030705946116899,-0.5668090358994596,-1.0631672427253827,-0.20282278470531462,-1.0631672427253827,-0.6291642618774939,0.29051580673407335,0.06081181432063574,-0.4180883389944435,-0.5333289731040035,-0.9881698009477037,-0.30629758021566134,-0.42306601232046576,-0.6627255640797594,-0.6614197523695914,0.21027721266581442,-0.8756548854083833,-0.09426925497864677,-1.0248121986721386,-0.34274653594283316,-0.7197202804354731,-0.30448653302709017,-1.1120118926054339,-0.9919976304639354,-0.5668090358994596,-0.8312867838081254,-0.6574933006866768,-0.7457459803094679,-0.3579623763506746,0.7212163825223927,-0.2489714532121766,-0.5020002789065126,-1.1236871024694546,0.10840103086524452,-0.7457299570382859,-0.40630433215601974,-0.9584902809079727,-0.5376349947187209,-0.471688063374402,-1.2080133304093312,-0.03782280480325727,-0.43771621726855625,-0.24800106641818204,-0.6614197523695914,-0.3827624931567557,-0.9584902809079727,-0.25147338769528654,0.5085369640029168,-0.8106423004074892,-0.6614197523695914,-0.0857463773531217,-0.6802333882391873,-0.3359755155016475,-1.0129595041878883,-0.367685364384686,-0.288552143230674,-0.9921751150841649,-0.43771621726855625,-1.0170602590160291,-0.37261949797982735,-0.37261949797982735,-0.7804731033847633,-0.4539638141545719,-0.6142434195500568,-0.6147793948999734,-0.6287648351290105,0.10049508366103682,-0.3516576242558746,-0.9532059327928901,-0.4038144421725294,0.007831810462466844,-0.5112517813936841,-0.9584902809079727,-0.5374575100984913,-1.1743284962331388,-0.5396257854924327,-0.3561503495126965,-0.38298537508057656,-0.33613856160444033,0.3789742239967546,-0.5406107776729021,-0.6142434195500568,-0.16855290303502288,-0.9911060609982046,-1.1236871024694546,-0.977083394812527,-0.6330476287937736,-1.0129595041878883,-0.7574211901734887,-1.0631672427253827,-0.7730576555723464,-0.7574211901734887,-0.6150433186180634,-0.7457299570382859,-0.6486039865634401,-0.3953938360465154,-0.8772579676947574,-0.7435977424551106,-0.013421298497205924,0.15308397039642782,-0.05824585719798869,-0.4090987902876122,0.14377781028141848,-0.44759168485733264,-0.6330476287937736,-0.3714876498367854,-0.6614197523695914,-0.37261949797982735,0.05171545273450388,-0.5593723758136226,-0.30629758021566134,-0.9584902809079727,-0.9584902809079727,0.012742897863492085,-0.21327452476453074,-0.7527902465646651,0.20810676621144641,-0.20473655920373854,-1.2080133304093312,-0.08490339814563932,-0.9584902809079727,0.06618830585431641,-0.7660967141870016,-0.727564185513528,-0.2463847436063721,-0.45820736509550913,-0.6614197523695914,-0.9583127962877432,-0.30245372742824805,-0.49964413892781084,-0.9881698009477037,-0.412237552740511,-0.33579803088141796,-1.0235028659088672,-0.8110975112796392,0.018027245978574826,-0.7849103500565969,-0.07672554105102568,-0.9921751150841649,0.5826574654267911,-0.47970945307268625,-0.5330036760024243,-0.9198713131366387,-0.7159090131890913,-0.42507335608624663,-1.1743284962331388,-1.1591686805292796,-0.7347867458069371,-0.7044006770315945,-0.6370529429302351,-1.0900022682932626,-1.2243587501504034,0.22651324518844254,-0.7347867458069371,-0.9584902809079728,-0.9584902809079727,-0.7823883780339025,-0.2516508723155162],"y":[-1.0818851848423077,0.13131223123651226,0.11224446283365926,0.6839140700699787,-1.073180994365387,-0.348497442840913,-0.7521965864608913,0.32077580557235197,-1.3221822763473385,-0.5777905519165989,-0.3167061801150172,0.6232171134858586,-1.2372893260518747,0.29047373135643445,0.49676393677461145,-0.40009544431157185,-0.6510394756853205,-0.44290947406893777,-0.29682596142417644,0.0644692360016033,-0.2928272459526088,-0.6872377729320505,0.046389793355421094,0.2335922922739868,0.15773324619381274,-0.28137416388587394,-0.010498011722661257,-0.6198764991105468,0.12022032542724027,-0.8818423585824674,-0.22346936733001815,-0.6577593085679414,-0.1898565418720017,-0.6059002408039739,-0.018544593050696626,0.22709274039800645,-0.5768750295102203,-0.20549489025250925,-0.6577593085679414,-0.3606488716750825,-0.028034186397627874,-0.28137416388587394,-0.03155235276327985,0.47289617101910164,-0.1693415252503825,-0.4595787332927483,0.1660284058936736,-0.5839161967302813,-0.6056622459375093,0.3858760039765839,0.320675080641451,0.7815177112469226,-0.6172963921516762,-0.9541756965986664,-0.1744582429172472,-0.34849744284091305,-0.48402846034274233,-0.654574188422009,-0.4335952542635244,-0.581058686161593,-1.1323853414458762,-0.28137416388587394,0.39111371426963415,-0.0752888482417228,-1.4077851875921703,-0.34825944797444863,-0.21252305670218377,0.5502015216204289,-0.6201144939770112,0.21904577283367527,-0.651277470551785,-0.34849744284091305,-0.10440713884426471,-1.1953451013888399,-0.7249624692897274,-1.5733524826463234,-0.9760527938219642,0.0007019027617599797,-0.28137416388587394,-0.056316919008639145,-0.6510394756853205,-0.2811361690194096,-0.03792252515248359,-0.34849744284091305,-0.12509664667561748,-0.6201144939770112,0.5516192293845614,-0.34849744284091305,-0.4638369767667547,-0.6872377729320505,0.37540253523316275,-0.10440713884426471,-0.29235053673571615,0.18037913069752345,-0.6121795080387176,-0.8499905448006223,-0.28137416388587394,-0.46181389621594715,-0.28137416388587394,-0.26280022685390236,-0.40388321482483075,-0.38090373232296537,-0.4762905926156236,-0.48079228352633235,-0.16105694905588278,-0.5007185332185635,-0.010700624281471222,-0.4494974744930248,-0.6872377729320505,-0.8485413220351106,0.12967932014625624,-0.5703876112861218,-0.038314474499564204,-0.6516352794775847,0.0647691068357404,-1.1522183299987319,0.49000117018611894,-0.10416914397780039,-0.8499905448006223,-0.1762651222798491,-0.2919275226707342,-0.3492383418137987,0.5884435148348491,-1.2584475904672185,0.11900722942214972,0.5888473216994274,0.6496252011942463,-0.010699979429262966,0.09880217374504335,0.05355473911943352,-0.34849744284091305,0.4874351738686542,-0.4551767742122498,0.9876246323124976,-0.17412963196159587,-0.9165308820077364,0.7004761534703406,-0.6872377729320505,-1.0125105437473347,-0.34849744284091305,-0.6510394756853205,-1.151102323749925,-0.3144080464173703,-0.6872377729320505,-0.279004196769378,0.44149519957786326,-0.9756782983691923,-0.19770051064122715,-0.019379937002990344,-0.059997902381845755,-0.10440713884426471,-0.9165308820077364,0.9280043740666284,-0.19053556487721454,-0.19053556487721454,-0.051521916570229365,1.0860669769612277,-0.6426749077650864,-0.31834853762803256,1.093503967036364,0.2739432337977566,-0.09700419821378789,-0.1693415252503825,0.12374030839204943,-0.9680769312283812,-0.582686426677605,-0.34849744284091305,0.48767316873511873,0.7435343283158499,0.770569880459631,-0.5839161967302813,0.10299286435319038,0.1345244812588443,-0.8401761092626682,0.6986167308400297,-0.6426749077650864,-0.7473867154442311,-0.15308108646229956,0.6496252011942463,0.6389153652734186,0.025462290657604067,-0.19770051064122715,-0.18961431080567118,-0.28137416388587394,0.34923244239123963,-0.18961431080567118,-0.002354172119298738,0.09880217374504335,0.5995571576202547,-0.19043483994631352,0.4047939982247127,0.8730259973595416,-0.33256134764411077,-1.4456679970495652,-0.530860327100324,-0.05541560919848125,-0.5385963485602261,-0.21008993434186107,0.025462290657604067,-0.05686916152140148,-0.6872377729320505,-0.19053556487721454,-0.4188276884648326,-0.10163930336882333,-0.5007185332185635,-0.34849744284091305,-0.34849744284091305,-0.4070954648471607,-0.27889408913156244,0.05483872743757496,-0.1344236949979539,0.22046595752406303,0.9876246323124976,0.15628672884961242,-0.34849744284091305,-0.7703396990375383,-0.6201144939770112,-0.3768168097242371,-0.13959216654954923,-0.002654042953435895,-0.6872377729320505,-0.34825944797444863,-0.10956582273780407,-0.7248825875229804,-0.16105694905588278,-0.22136046650683103,-0.9754403035027281,0.09558992372271352,0.5424135505757413,-0.22793954725663035,0.5086184785329027,-0.6332734675868569,-0.10440713884426471,-1.0612840066697982,-0.8970006856386915,0.4133021590696723,-0.4214321189633371,0.9687202101654884,-0.0029943461612832625,0.7435343283158499,0.21624929824050526,-0.5777905519165989,-0.23570709251973318,0.08211210086922216,0.40553489719759783,0.6600986699376675,-0.8118468740312553,-0.5777905519165989,-0.3484974428409131,-0.34849744284091305,-0.22649586725748003,-0.6512774705517851],"type":"scatter","xaxis":"x","yaxis":"y"},{"legendgroup":"k3_group","marker":{"color":"red","opacity":0.7,"size":7},"mode":"markers","name":"K=3, Cluster 0","x":[0.9470665013008686,-0.24171453372932847,0.8588021332452077,1.3305133090206178,0.2977406183048445,0.3741412602919578,0.9335249959496839,0.6462623972347119,-0.22559634829899974,0.07001997350641655,0.7010865897550869,0.032688664313734885,0.24309391040469916,0.005156102677577754,1.2496347039277362,0.7481322891704522,0.48023921858359236,0.2648672255102003,0.40578845823249254,0.16258580124373495,0.2979181029250739,-0.4051164607890124,1.3326559271033227,0.6008879852538621,0.8653230760774157,0.43909449551290264,0.766683280772741,0.3680448655676101,0.6673484371894807,0.3050402565263506,0.10338659456171384,0.23810432688456104,0.4839263195991585,0.15573160440039582,0.20377071599913651,-0.04611314072943637,0.9641979798747319,0.5094426300042455,0.7267232565014483,0.2977406183048442,0.4812430602934597,0.23649351718063694,1.0345739501683855,0.3342934613192179,0.5644648417271368,0.2977406183048442,0.5292205711906778,1.058889765766102,0.681681181237455,0.34526859848841984,0.335283615748821,0.5312195583165532,0.2977406183048442,0.2574553909045898,0.44013818814927486,1.10640648836947,0.9408998949580604,0.0006700897664631682,0.2979181029250739,0.23397154515794297,0.5293164805096788,0.1633841364477033,0.2979181029250739,0.26405578412865194,-0.14997805593757912,0.1767719926405331,0.040790818489785774,1.2738243583101383,1.0052688913702919,0.021617742763603072,0.3078371387925793,0.36225651895281497,0.8824419198115333,0.09776027994532613,0.6464398818549417,1.098548812525707,0.2314187005406782,-0.08167956812651406,0.3378613470281666,0.6314054633383722,0.27272695575523703,-0.29356809184132737,0.15962823769549217,0.07097433702922919,0.2830488070840296,0.2977406183048442,0.24695207367248342,0.34251185861621297,0.1839950471348491,-0.11513103986679192,0.8371689880039012,0.7758276844589896,-0.241941768040069,0.4818873234057486,0.2977406183048442,0.6029683289652303,0.8341387893763234,0.2977406183048442,0.3923513347749762,-0.050966786582861946,0.5066375905336703,0.39974363858110706,0.600308608150896,-0.02452341736215348,0.20723191289482396,0.9467541055693532,0.7009091051348576,-0.06451997985466061,-0.07112037307872275,-0.6287648351290105,-0.4038144421725294,0.48011505235277663,0.9381727666184214,0.7948426749385387,0.5269875281071884,0.20665253579185827,-0.5406107776729021,0.896423505399133,0.2362701777800518,0.2977406183048442,0.45951623174662515,-0.04949060522256738,0.5707213260890014,0.14693130734846108,1.2767606183606395,1.0311040036556578,1.3305133090206154,-0.007193852851176088,0.22582662348573118,0.5397175977098366,0.9837928181173374,0.3741590565567453,-0.07207473660153584,-0.0991591775536657,0.2977406183048442,0.407482970136334,0.40770192823733686,0.2178573659312709,0.5214441534058796,0.642339127026801,0.32515974988948415,0.7548894240101753,0.6704061968367591,0.21116184842803168,0.0006700897664631682,0.061554080312603066,1.177885714563323,0.2302741303301455,0.4932207642118227,0.42521288852973044,0.2592100054757385,1.425948580235833,0.32868506489638255,0.22188204726611516,0.699183511948212,0.22055411998943208,-0.1058128891671418,0.2977406183048442,-0.004744502668254391,0.595125550074579,-0.20473655920373854,0.25432227903547633,0.5850936650212316,0.2742764708472025,1.2595211813793983,0.6335667833909744,0.5136058396388897,-0.06583602496363992,-0.2463847436063721,0.030369308095199624,0.1523293375133285,0.4578876992506592,0.2642332687488814,0.8548207759589992,0.24815930041877912,0.6164214158459334,0.6493576891196037,0.29131770970101145,0.2977406183048442,0.02938149327451204,1.2117915456335988,0.34351856706262873,0.2977406183048442,0.6479232787111284,0.30490087874207855,0.862156298320824,0.44261371199767235,-0.06583602496363992,0.17266625116857612,0.35691440071866576,0.7961687539223926,0.6729635349216767,-0.5330036760024243,0.20896223499526312,1.298090265377075,0.2977406183048442,0.8255236964941434,0.5113407951563538,0.1863219488448077,0.4582912376065422,0.2977406183048442,0.7773097471219733,0.3086838890766457,0.10127223104462246,-0.09533134803743393,0.9561065618779788],"y":[0.4867759156508626,0.3475578268334126,0.03394342318168781,0.4893121222554774,-0.3581956369093537,0.35574833146569196,0.31015515825819484,0.1672613734407929,1.4684020400532873,0.3664574102815392,0.01694043097403664,0.24654778769601987,-0.20763669957613187,1.1194547781477462,0.3861505121895557,0.7526218481375561,1.0693867345737547,0.18160087571452363,0.7009452180261313,0.8561223032061477,-0.3579576420428887,0.7741084847319712,-0.04726416983620031,0.33500774130282457,0.9387770509512078,-0.19968151643289248,0.4766810836430212,0.16114548867975037,0.6186137658471254,0.30922975303739964,0.7251469940833515,-0.27375482571722487,1.6155168121605967,0.5977728496726594,0.08536859184139466,0.5461568884909352,0.2508373752573977,-0.305310414635318,-0.19542775820787953,-0.35819563690935324,1.1656220123424175,0.13130107106052813,-0.10055803433262198,0.3242758137332791,0.12058334151324618,-0.35819563690935324,1.1601114164746147,0.3113441117257992,0.41829692542068636,1.6319445831062507,-0.13058287271845403,0.5279130816262378,-0.35819563690935324,0.22483243772395495,1.0006547176240586,0.05717981888546166,0.5600936945309933,-0.019455306818215806,-0.3579576420428887,0.866415416850911,0.6570412875114217,-0.10363186416928384,-0.3579576420428887,-0.1141053329127049,0.6287270926413849,0.10254626876521715,1.2208669259785194,0.027982250431461235,0.35794010083230454,0.4070185648700823,0.8530662283250889,0.515530184511821,-0.1932984714655336,0.6058374992844096,0.16749936830725823,0.001977957750226569,-0.04801266856800428,0.3683519227339305,0.8821265958873818,-0.4754561073495474,-0.005790306996840241,0.16298592973016454,0.7347744737658178,0.499885818770888,0.45406996978857816,-0.35819563690935324,0.26406636861141575,0.19768637342330025,1.5041243475670905,1.0468940652661798,-0.5693160849686256,0.5889797114104975,1.1408760776784592,-0.14129270863928092,-0.35819563690935324,0.4327027966799258,-0.21898501188342373,-0.35819563690935324,-0.5209484087779249,-0.02495746816128692,0.6907097441491742,0.308929105033584,0.8340083125530309,1.3068952719327758,0.26754351428772977,0.41931875296590837,0.016702436107572043,0.4243940648789462,0.7633318355156063,1.093503967036364,0.12374030839204943,0.7115657088308492,0.22216831218997693,0.20635933595386108,0.36390280921610274,0.7665440855379362,0.6986167308400297,0.16599286402222896,-0.036432189910293435,-0.35819563690935324,-0.39584045150028324,1.2700137154809679,0.4033196923816112,0.8613760050219526,0.020006387837878073,0.8444824261486603,0.4893121222554765,1.0441198275196597,0.8553790570602398,0.9581752699311137,0.352837861430504,0.5428832599837399,0.6299034270262573,0.5350559603862455,-0.35819563690935324,0.21459059785136325,-0.24616299827386176,1.2602720384369068,-0.587488745985039,1.293204253015114,-0.14127667876021363,0.255676573866326,-0.35840215442165846,0.17635366190371687,-0.019455306818215806,0.34950516944365184,0.7079460635316884,0.4587699363282583,0.5316594603501078,0.18034561135530133,0.812417899312303,0.053335528907608065,0.6560403020233533,0.29890096466223887,0.14606863685922028,0.8161120058938943,1.2315767618993463,-0.35819563690935324,0.8841744136764931,0.05092215707214286,0.22046595752406303,1.1372915690141232,1.00250145048518,1.4549775580646422,0.31234509721386733,1.1914890350880887,1.428076318375567,0.9424877531061365,-0.13959216654954923,0.9646944152437935,0.9185851929350745,0.7883063331287044,-0.11386733804624041,1.0426327558545176,0.4322728141396239,0.8025043879182014,1.002284297675869,-0.019019871406228753,-0.35819563690935324,0.1985720248559783,-0.39246064535176595,0.2513095722896028,-0.35819563690935324,0.5495431574292419,0.8610420909186716,0.40042925380313993,1.251109293333958,0.9424877531061365,0.11745741883892176,0.4407207812627557,1.2498415033993568,0.6992687858691436,0.4133021590696723,1.5410059040188986,-0.1973502652850087,-0.35819563690935324,1.2281040546108823,0.021087533602287142,0.7209739689455071,1.1654847424068537,-0.35819563690935324,0.730646404482617,0.9041020395423216,0.43972895991398314,0.47816815530816326,0.7241652113186691],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"legendgroup":"k3_group","marker":{"color":"blue","opacity":0.7,"size":7},"mode":"markers","name":"K=3, Cluster 1","x":[0.26416047483604493,-0.6139114704750105,-1.0794589065722837,-0.983375424839836,-0.9584902809079727,-0.6257370446487585,-0.5650833828648198,-0.7347867458069371,-0.7204432156479074,-1.2493259380108177,-0.1954969612183276,-1.0311507256097066,-0.2815244392453267,-0.24699503037910236,-0.25147338769528654,-0.6949271019255546,-0.4448315989836734,-0.5628843269129188,-0.8533227128264584,-0.6614197523695914,-1.0466443383640802,-1.076501343024041,-0.6566253762617248,-1.0631672427253827,-1.0428165088478487,-0.7659192295667719,-1.082395166622785,-0.6743359369143322,-0.6043211007452209,-0.42835036043554847,-0.6004938700756518,-1.0076751560728054,0.009387302859045378,-0.44519378734760806,0.11441006365764403,-0.6043211007452209,-0.39294497695718733,-0.31137910920132794,-1.0631672427253827,-0.7257917884977417,-1.1945017454904432,-0.9532059327928901,-0.35022088251354094,-0.35225136929947776,-0.3561503495126965,-0.6003163854554223,-0.748267952332162,-0.5423090447981317,-0.686052008529131,0.32005564426482586,-0.2759406038267757,0.1889025935862243,-0.9584902809079727,-0.4149745943237128,-0.5994248159896916,-0.41097454203307104,-0.15163576373525253,-1.0631672427253827,-0.5437065027809893,-0.5764243508467295,-0.9583127962877432,-0.8642199542216736,-0.5408560810780282,-0.7660967141870016,-0.2958932889395004,-0.2516508723155162,-0.9584902809079727,-0.9921751150841649,-0.28265469190581927,0.01076807051296736,-0.7602946561669078,-1.0631672427253827,-0.8160045555568723,-0.25147338769528654,-1.0629897581051528,-0.48934616050715146,-0.9584902809079727,-0.5784009208936285,-0.7660967141870016,-0.5582141170358673,-0.9584902809079727,-0.28133039235524737,-0.6614197523695914,-0.6475963046512135,-0.9921751150841649,-0.7495738098256994,-0.3991905998296176,-0.1030705946116899,-0.5668090358994596,-1.0631672427253827,-0.20282278470531462,-1.0631672427253827,-0.6291642618774939,0.29051580673407335,0.06081181432063574,-0.4180883389944435,-0.5333289731040035,-0.9881698009477037,-0.30629758021566134,-0.42306601232046576,-0.6627255640797594,-0.6614197523695914,0.21027721266581442,-0.8756548854083833,-0.09426925497864677,-1.0248121986721386,-0.34274653594283316,-0.7197202804354731,-0.30448653302709017,-1.1120118926054339,-0.9919976304639354,-0.5668090358994596,-0.8312867838081254,-0.6574933006866768,-0.7457459803094679,-0.3579623763506746,-0.2489714532121766,-0.5020002789065126,-1.1236871024694546,0.10840103086524452,-0.7457299570382859,-0.40630433215601974,-0.9584902809079727,-0.5376349947187209,-0.471688063374402,-1.2080133304093312,-0.03782280480325727,-0.43771621726855625,-0.24800106641818204,-0.6614197523695914,-0.3827624931567557,-0.9584902809079727,-0.25147338769528654,-0.8106423004074892,-0.6614197523695914,-0.0857463773531217,-0.6802333882391873,-0.3359755155016475,-1.0129595041878883,-0.367685364384686,-0.288552143230674,-0.9921751150841649,-0.43771621726855625,-1.0170602590160291,-0.37261949797982735,-0.37261949797982735,-0.7804731033847633,-0.4539638141545719,-0.6142434195500568,-0.6147793948999734,0.10049508366103682,-0.3516576242558746,-0.9532059327928901,0.007831810462466844,-0.5112517813936841,-0.9584902809079727,-0.5374575100984913,-1.1743284962331388,-0.5396257854924327,-0.3561503495126965,-0.38298537508057656,-0.33613856160444033,-0.6142434195500568,-0.16855290303502288,-0.9911060609982046,-1.1236871024694546,-0.977083394812527,-0.6330476287937736,-1.0129595041878883,-0.7574211901734887,-1.0631672427253827,-0.7730576555723464,-0.7574211901734887,-0.6150433186180634,-0.7457299570382859,-0.6486039865634401,-0.3953938360465154,-0.8772579676947574,-0.7435977424551106,-0.013421298497205924,-0.05824585719798869,-0.4090987902876122,0.14377781028141848,-0.44759168485733264,-0.6330476287937736,-0.3714876498367854,-0.6614197523695914,-0.37261949797982735,0.05171545273450388,-0.5593723758136226,-0.30629758021566134,-0.9584902809079727,-0.9584902809079727,0.012742897863492085,-0.21327452476453074,-0.7527902465646651,0.20810676621144641,-1.2080133304093312,-0.08490339814563932,-0.9584902809079727,0.06618830585431641,-0.7660967141870016,-0.727564185513528,-0.45820736509550913,-0.6614197523695914,-0.9583127962877432,-0.30245372742824805,-0.49964413892781084,-0.9881698009477037,-0.412237552740511,-0.33579803088141796,-1.0235028659088672,-0.8110975112796392,0.018027245978574826,-0.7849103500565969,-0.07672554105102568,-0.9921751150841649,-0.47970945307268625,-0.9198713131366387,-0.7159090131890913,-0.42507335608624663,-1.1743284962331388,-1.1591686805292796,-0.7347867458069371,-0.7044006770315945,-0.6370529429302351,-1.0900022682932626,-1.2243587501504034,0.22651324518844254,-0.7347867458069371,-0.9584902809079728,-0.9584902809079727,-0.7823883780339025,-0.2516508723155162],"y":[-1.0818851848423077,0.13131223123651226,0.11224446283365926,0.6839140700699787,-0.348497442840913,-0.7521965864608913,0.32077580557235197,-0.5777905519165989,-0.3167061801150172,0.6232171134858586,-1.2372893260518747,0.29047373135643445,0.49676393677461145,-0.40009544431157185,-0.6510394756853205,-0.44290947406893777,-0.29682596142417644,0.0644692360016033,-0.2928272459526088,-0.6872377729320505,0.046389793355421094,0.2335922922739868,0.15773324619381274,-0.28137416388587394,-0.010498011722661257,-0.6198764991105468,0.12022032542724027,-0.22346936733001815,-0.6577593085679414,-0.1898565418720017,-0.6059002408039739,-0.018544593050696626,0.22709274039800645,-0.5768750295102203,-0.20549489025250925,-0.6577593085679414,-0.3606488716750825,-0.028034186397627874,-0.28137416388587394,-0.03155235276327985,0.47289617101910164,-0.1693415252503825,-0.4595787332927483,0.1660284058936736,-0.5839161967302813,-0.6056622459375093,0.3858760039765839,0.320675080641451,0.7815177112469226,-0.6172963921516762,-0.9541756965986664,-0.1744582429172472,-0.34849744284091305,-0.48402846034274233,-0.654574188422009,-0.4335952542635244,-0.581058686161593,-0.28137416388587394,0.39111371426963415,-0.0752888482417228,-0.34825944797444863,-0.21252305670218377,0.5502015216204289,-0.6201144939770112,0.21904577283367527,-0.651277470551785,-0.34849744284091305,-0.10440713884426471,-0.7249624692897274,-0.9760527938219642,0.0007019027617599797,-0.28137416388587394,-0.056316919008639145,-0.6510394756853205,-0.2811361690194096,-0.03792252515248359,-0.34849744284091305,-0.12509664667561748,-0.6201144939770112,0.5516192293845614,-0.34849744284091305,-0.4638369767667547,-0.6872377729320505,0.37540253523316275,-0.10440713884426471,-0.29235053673571615,0.18037913069752345,-0.6121795080387176,-0.8499905448006223,-0.28137416388587394,-0.46181389621594715,-0.28137416388587394,-0.26280022685390236,-0.40388321482483075,-0.38090373232296537,-0.4762905926156236,-0.48079228352633235,-0.16105694905588278,-0.5007185332185635,-0.010700624281471222,-0.4494974744930248,-0.6872377729320505,-0.8485413220351106,0.12967932014625624,-0.5703876112861218,-0.038314474499564204,-0.6516352794775847,0.0647691068357404,-1.1522183299987319,0.49000117018611894,-0.10416914397780039,-0.8499905448006223,-0.1762651222798491,-0.2919275226707342,-0.3492383418137987,0.5884435148348491,0.11900722942214972,0.5888473216994274,0.6496252011942463,-0.010699979429262966,0.09880217374504335,0.05355473911943352,-0.34849744284091305,0.4874351738686542,-0.4551767742122498,0.9876246323124976,-0.17412963196159587,-0.9165308820077364,0.7004761534703406,-0.6872377729320505,-1.0125105437473347,-0.34849744284091305,-0.6510394756853205,-0.3144080464173703,-0.6872377729320505,-0.279004196769378,0.44149519957786326,-0.9756782983691923,-0.19770051064122715,-0.019379937002990344,-0.059997902381845755,-0.10440713884426471,-0.9165308820077364,0.9280043740666284,-0.19053556487721454,-0.19053556487721454,-0.051521916570229365,1.0860669769612277,-0.6426749077650864,-0.31834853762803256,0.2739432337977566,-0.09700419821378789,-0.1693415252503825,-0.9680769312283812,-0.582686426677605,-0.34849744284091305,0.48767316873511873,0.7435343283158499,0.770569880459631,-0.5839161967302813,0.10299286435319038,0.1345244812588443,-0.6426749077650864,-0.7473867154442311,-0.15308108646229956,0.6496252011942463,0.6389153652734186,0.025462290657604067,-0.19770051064122715,-0.18961431080567118,-0.28137416388587394,0.34923244239123963,-0.18961431080567118,-0.002354172119298738,0.09880217374504335,0.5995571576202547,-0.19043483994631352,0.4047939982247127,0.8730259973595416,-0.33256134764411077,-0.530860327100324,-0.05541560919848125,-0.5385963485602261,-0.21008993434186107,0.025462290657604067,-0.05686916152140148,-0.6872377729320505,-0.19053556487721454,-0.4188276884648326,-0.10163930336882333,-0.5007185332185635,-0.34849744284091305,-0.34849744284091305,-0.4070954648471607,-0.27889408913156244,0.05483872743757496,-0.1344236949979539,0.9876246323124976,0.15628672884961242,-0.34849744284091305,-0.7703396990375383,-0.6201144939770112,-0.3768168097242371,-0.002654042953435895,-0.6872377729320505,-0.34825944797444863,-0.10956582273780407,-0.7248825875229804,-0.16105694905588278,-0.22136046650683103,-0.9754403035027281,0.09558992372271352,0.5424135505757413,-0.22793954725663035,0.5086184785329027,-0.6332734675868569,-0.10440713884426471,-0.8970006856386915,-0.4214321189633371,0.9687202101654884,-0.0029943461612832625,0.7435343283158499,0.21624929824050526,-0.5777905519165989,-0.23570709251973318,0.08211210086922216,0.40553489719759783,0.6600986699376675,-0.8118468740312553,-0.5777905519165989,-0.3484974428409131,-0.34849744284091305,-0.22649586725748003,-0.6512774705517851],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"legendgroup":"k3_group","marker":{"color":"green","opacity":0.7,"size":7},"mode":"markers","name":"K=3, Cluster 2","x":[1.1651480811314663,1.3553715534370445,1.355371553437043,0.7526035587846096,0.053200750429996085,1.497697569600246,1.322755331360171,0.6654754601318291,0.4625883579603327,1.10395397646449,-0.33544169162346443,0.8582009759278358,0.9818636545113033,1.355371553437044,1.543387922793204,0.9443515896655424,0.1436392761099656,1.31675258566571,-0.008514158425123087,0.6325306145473796,0.2718149348286934,0.563612959870775,1.3058305345161327,0.7122727314559765,1.3077693766459086,0.7212163825223927,0.9665500986907607,1.7051635362349837,1.4318467093812723,0.5085369640029168,1.355371553437044,1.2817817090684818,0.6059426105451668,1.0269910565185987,0.3789742239967546,1.2462801754159418,1.6160561572875805,1.5725253351888524,0.9806898431224577,0.8723572380144079,0.15308397039642782,1.2130942148509631,0.9512915046004543,1.0643206775687075,1.246494878875052,1.4091237166030355,1.2098942507280972,1.606611463001118,0.9426817355543063,1.7051635362349837,1.31675258566571,0.5826574654267911,1.2243749122790673,1.5376474810998388,0.8801912202462204],"y":[-0.9607698796290209,-1.5592612499789926,-1.5592612499789906,-1.073180994365387,-1.3221822763473385,-0.26846002243452466,-0.12049552108419985,-0.6752858018074075,0.06018220611233758,-0.8844715299838383,-0.8818423585824674,-0.1729157139419048,-0.8846033928157356,-1.559261249978991,-0.36755627311509964,-0.6923721565830553,-1.1323853414458762,-1.4863265738565674,-1.4077851875921703,-0.40216449749214234,-1.1953451013888399,-1.5733524826463234,0.05097908779117559,-0.38297842802412874,-0.6052247176049018,-1.2584475904672185,-0.11740018058298991,-0.4052010877060299,-0.567373144868714,-1.151102323749925,-1.559261249978991,-0.9496306329919267,-0.8622534537080249,-1.2628448619482657,-0.8401761092626682,-1.112383626194477,-1.0288582966891924,-0.08099364381423364,-1.0022810082480138,0.09614250849260306,-1.4456679970495652,-0.33289291223405637,-0.5034054374882955,-0.02065837143073963,-0.02857794815749798,-0.366112595898865,-0.24324034281354104,-0.7155756410855026,-1.090813935145267,-0.4052010877060299,-1.4863265738565674,-1.0612840066697982,-0.5273651947294827,-0.6811683680287485,0.4509368003344325],"type":"scatter","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.0,0.45],"title":{"text":"PC1"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"PC2"}},"xaxis2":{"anchor":"y2","domain":[0.55,1.0],"title":{"text":"PC1"}},"yaxis2":{"anchor":"x2","domain":[0.0,1.0],"title":{"text":"PC2"}},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Clusters com K=2","x":0.225,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Clusters com K=3","x":0.775,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"}],"title":{"pad":{"b":25},"text":"Distribuição dos Clusters no espaço para K=1 e K=2","y":0.97,"x":0.5,"xanchor":"center","yanchor":"top"},"margin":{"t":80,"b":50,"l":40,"r":40},"width":1100,"height":550,"hovermode":"closest","showlegend":false},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('708d27b7-2892-4dc9-9e3b-74ddf61417e1');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="visualizando-o-centro-de-cada-cluster" class="level6">
<h6 data-anchor-id="visualizando-o-centro-de-cada-cluster">Visualizando o centro de cada cluster:</h6>
<div id="b1f161f7" class="cell" data-execution_count="36">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>cluster_colors <span class="op">=</span> [<span class="st">'red'</span>, <span class="st">'blue'</span>, <span class="st">'green'</span>]</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>unique_clusters <span class="op">=</span> <span class="bu">sorted</span>(df_clusters_k3[<span class="st">'Cluster'</span>].unique())</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> cluster_idx, cluster_num <span class="kw">in</span> <span class="bu">enumerate</span>(unique_clusters):</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    mask <span class="op">=</span> df_clusters_k3[<span class="st">'Cluster'</span>] <span class="op">==</span> cluster_num</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(go.Scatter(</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>df_clusters_k3.loc[mask, df_clusters_k3.columns[<span class="dv">0</span>]],</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>df_clusters_k3.loc[mask, df_clusters_k3.columns[<span class="dv">1</span>]],</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'markers'</span>,</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span>cluster_colors[cluster_idx <span class="op">%</span> <span class="bu">len</span>(cluster_colors)],</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>            opacity<span class="op">=</span><span class="fl">0.7</span>,</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>            size<span class="op">=</span><span class="dv">8</span></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="ss">f'Cluster </span><span class="sc">{</span>cluster_num<span class="sc">}</span><span class="ss">'</span></span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a>fig.add_trace(go.Scatter(</span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>kmeans_k3.cluster_centers_[:, <span class="dv">0</span>],</span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>kmeans_k3.cluster_centers_[:, <span class="dv">1</span>],</span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a>    mode<span class="op">=</span><span class="st">'markers'</span>,</span>
<span id="cb50-21"><a href="#cb50-21" aria-hidden="true" tabindex="-1"></a>    marker<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb50-22"><a href="#cb50-22" aria-hidden="true" tabindex="-1"></a>        size<span class="op">=</span><span class="dv">16</span>,</span>
<span id="cb50-23"><a href="#cb50-23" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span><span class="st">'black'</span>,</span>
<span id="cb50-24"><a href="#cb50-24" aria-hidden="true" tabindex="-1"></a>        symbol<span class="op">=</span><span class="st">'x'</span></span>
<span id="cb50-25"><a href="#cb50-25" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb50-26"><a href="#cb50-26" aria-hidden="true" tabindex="-1"></a>    name<span class="op">=</span><span class="st">'Centróides'</span></span>
<span id="cb50-27"><a href="#cb50-27" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb50-28"><a href="#cb50-28" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb50-29"><a href="#cb50-29" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Centroídes de cada Cluster com k=3"</span>,</span>
<span id="cb50-30"><a href="#cb50-30" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span>df_clusters_k3.columns[<span class="dv">0</span>] <span class="cf">if</span> <span class="bu">len</span>(df_clusters_k3.columns) <span class="op">&gt;</span> <span class="dv">0</span> <span class="cf">else</span> <span class="st">'Componente 1'</span>,</span>
<span id="cb50-31"><a href="#cb50-31" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span>df_clusters_k3.columns[<span class="dv">1</span>] <span class="cf">if</span> <span class="bu">len</span>(df_clusters_k3.columns) <span class="op">&gt;</span> <span class="dv">1</span> <span class="cf">else</span> <span class="st">'Componente 2'</span>,</span>
<span id="cb50-32"><a href="#cb50-32" aria-hidden="true" tabindex="-1"></a>    legend_title_text<span class="op">=</span><span class="st">'Legenda'</span>,</span>
<span id="cb50-33"><a href="#cb50-33" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">900</span>,</span>
<span id="cb50-34"><a href="#cb50-34" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">650</span>,</span>
<span id="cb50-35"><a href="#cb50-35" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb50-36"><a href="#cb50-36" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>                            <div id="67629628-ccb0-42f6-9236-ffb46e2aab21" class="plotly-graph-div" style="height:650px; width:900px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("67629628-ccb0-42f6-9236-ffb46e2aab21")) {                    Plotly.newPlot(                        "67629628-ccb0-42f6-9236-ffb46e2aab21",                        [{"marker":{"color":"red","opacity":0.7,"size":8},"mode":"markers","name":"Cluster 0","x":[0.9470665013008686,-0.24171453372932847,0.8588021332452077,1.3305133090206178,0.2977406183048445,0.3741412602919578,0.9335249959496839,0.6462623972347119,-0.22559634829899974,0.07001997350641655,0.7010865897550869,0.032688664313734885,0.24309391040469916,0.005156102677577754,1.2496347039277362,0.7481322891704522,0.48023921858359236,0.2648672255102003,0.40578845823249254,0.16258580124373495,0.2979181029250739,-0.4051164607890124,1.3326559271033227,0.6008879852538621,0.8653230760774157,0.43909449551290264,0.766683280772741,0.3680448655676101,0.6673484371894807,0.3050402565263506,0.10338659456171384,0.23810432688456104,0.4839263195991585,0.15573160440039582,0.20377071599913651,-0.04611314072943637,0.9641979798747319,0.5094426300042455,0.7267232565014483,0.2977406183048442,0.4812430602934597,0.23649351718063694,1.0345739501683855,0.3342934613192179,0.5644648417271368,0.2977406183048442,0.5292205711906778,1.058889765766102,0.681681181237455,0.34526859848841984,0.335283615748821,0.5312195583165532,0.2977406183048442,0.2574553909045898,0.44013818814927486,1.10640648836947,0.9408998949580604,0.0006700897664631682,0.2979181029250739,0.23397154515794297,0.5293164805096788,0.1633841364477033,0.2979181029250739,0.26405578412865194,-0.14997805593757912,0.1767719926405331,0.040790818489785774,1.2738243583101383,1.0052688913702919,0.021617742763603072,0.3078371387925793,0.36225651895281497,0.8824419198115333,0.09776027994532613,0.6464398818549417,1.098548812525707,0.2314187005406782,-0.08167956812651406,0.3378613470281666,0.6314054633383722,0.27272695575523703,-0.29356809184132737,0.15962823769549217,0.07097433702922919,0.2830488070840296,0.2977406183048442,0.24695207367248342,0.34251185861621297,0.1839950471348491,-0.11513103986679192,0.8371689880039012,0.7758276844589896,-0.241941768040069,0.4818873234057486,0.2977406183048442,0.6029683289652303,0.8341387893763234,0.2977406183048442,0.3923513347749762,-0.050966786582861946,0.5066375905336703,0.39974363858110706,0.600308608150896,-0.02452341736215348,0.20723191289482396,0.9467541055693532,0.7009091051348576,-0.06451997985466061,-0.07112037307872275,-0.6287648351290105,-0.4038144421725294,0.48011505235277663,0.9381727666184214,0.7948426749385387,0.5269875281071884,0.20665253579185827,-0.5406107776729021,0.896423505399133,0.2362701777800518,0.2977406183048442,0.45951623174662515,-0.04949060522256738,0.5707213260890014,0.14693130734846108,1.2767606183606395,1.0311040036556578,1.3305133090206154,-0.007193852851176088,0.22582662348573118,0.5397175977098366,0.9837928181173374,0.3741590565567453,-0.07207473660153584,-0.0991591775536657,0.2977406183048442,0.407482970136334,0.40770192823733686,0.2178573659312709,0.5214441534058796,0.642339127026801,0.32515974988948415,0.7548894240101753,0.6704061968367591,0.21116184842803168,0.0006700897664631682,0.061554080312603066,1.177885714563323,0.2302741303301455,0.4932207642118227,0.42521288852973044,0.2592100054757385,1.425948580235833,0.32868506489638255,0.22188204726611516,0.699183511948212,0.22055411998943208,-0.1058128891671418,0.2977406183048442,-0.004744502668254391,0.595125550074579,-0.20473655920373854,0.25432227903547633,0.5850936650212316,0.2742764708472025,1.2595211813793983,0.6335667833909744,0.5136058396388897,-0.06583602496363992,-0.2463847436063721,0.030369308095199624,0.1523293375133285,0.4578876992506592,0.2642332687488814,0.8548207759589992,0.24815930041877912,0.6164214158459334,0.6493576891196037,0.29131770970101145,0.2977406183048442,0.02938149327451204,1.2117915456335988,0.34351856706262873,0.2977406183048442,0.6479232787111284,0.30490087874207855,0.862156298320824,0.44261371199767235,-0.06583602496363992,0.17266625116857612,0.35691440071866576,0.7961687539223926,0.6729635349216767,-0.5330036760024243,0.20896223499526312,1.298090265377075,0.2977406183048442,0.8255236964941434,0.5113407951563538,0.1863219488448077,0.4582912376065422,0.2977406183048442,0.7773097471219733,0.3086838890766457,0.10127223104462246,-0.09533134803743393,0.9561065618779788],"y":[0.4867759156508626,0.3475578268334126,0.03394342318168781,0.4893121222554774,-0.3581956369093537,0.35574833146569196,0.31015515825819484,0.1672613734407929,1.4684020400532873,0.3664574102815392,0.01694043097403664,0.24654778769601987,-0.20763669957613187,1.1194547781477462,0.3861505121895557,0.7526218481375561,1.0693867345737547,0.18160087571452363,0.7009452180261313,0.8561223032061477,-0.3579576420428887,0.7741084847319712,-0.04726416983620031,0.33500774130282457,0.9387770509512078,-0.19968151643289248,0.4766810836430212,0.16114548867975037,0.6186137658471254,0.30922975303739964,0.7251469940833515,-0.27375482571722487,1.6155168121605967,0.5977728496726594,0.08536859184139466,0.5461568884909352,0.2508373752573977,-0.305310414635318,-0.19542775820787953,-0.35819563690935324,1.1656220123424175,0.13130107106052813,-0.10055803433262198,0.3242758137332791,0.12058334151324618,-0.35819563690935324,1.1601114164746147,0.3113441117257992,0.41829692542068636,1.6319445831062507,-0.13058287271845403,0.5279130816262378,-0.35819563690935324,0.22483243772395495,1.0006547176240586,0.05717981888546166,0.5600936945309933,-0.019455306818215806,-0.3579576420428887,0.866415416850911,0.6570412875114217,-0.10363186416928384,-0.3579576420428887,-0.1141053329127049,0.6287270926413849,0.10254626876521715,1.2208669259785194,0.027982250431461235,0.35794010083230454,0.4070185648700823,0.8530662283250889,0.515530184511821,-0.1932984714655336,0.6058374992844096,0.16749936830725823,0.001977957750226569,-0.04801266856800428,0.3683519227339305,0.8821265958873818,-0.4754561073495474,-0.005790306996840241,0.16298592973016454,0.7347744737658178,0.499885818770888,0.45406996978857816,-0.35819563690935324,0.26406636861141575,0.19768637342330025,1.5041243475670905,1.0468940652661798,-0.5693160849686256,0.5889797114104975,1.1408760776784592,-0.14129270863928092,-0.35819563690935324,0.4327027966799258,-0.21898501188342373,-0.35819563690935324,-0.5209484087779249,-0.02495746816128692,0.6907097441491742,0.308929105033584,0.8340083125530309,1.3068952719327758,0.26754351428772977,0.41931875296590837,0.016702436107572043,0.4243940648789462,0.7633318355156063,1.093503967036364,0.12374030839204943,0.7115657088308492,0.22216831218997693,0.20635933595386108,0.36390280921610274,0.7665440855379362,0.6986167308400297,0.16599286402222896,-0.036432189910293435,-0.35819563690935324,-0.39584045150028324,1.2700137154809679,0.4033196923816112,0.8613760050219526,0.020006387837878073,0.8444824261486603,0.4893121222554765,1.0441198275196597,0.8553790570602398,0.9581752699311137,0.352837861430504,0.5428832599837399,0.6299034270262573,0.5350559603862455,-0.35819563690935324,0.21459059785136325,-0.24616299827386176,1.2602720384369068,-0.587488745985039,1.293204253015114,-0.14127667876021363,0.255676573866326,-0.35840215442165846,0.17635366190371687,-0.019455306818215806,0.34950516944365184,0.7079460635316884,0.4587699363282583,0.5316594603501078,0.18034561135530133,0.812417899312303,0.053335528907608065,0.6560403020233533,0.29890096466223887,0.14606863685922028,0.8161120058938943,1.2315767618993463,-0.35819563690935324,0.8841744136764931,0.05092215707214286,0.22046595752406303,1.1372915690141232,1.00250145048518,1.4549775580646422,0.31234509721386733,1.1914890350880887,1.428076318375567,0.9424877531061365,-0.13959216654954923,0.9646944152437935,0.9185851929350745,0.7883063331287044,-0.11386733804624041,1.0426327558545176,0.4322728141396239,0.8025043879182014,1.002284297675869,-0.019019871406228753,-0.35819563690935324,0.1985720248559783,-0.39246064535176595,0.2513095722896028,-0.35819563690935324,0.5495431574292419,0.8610420909186716,0.40042925380313993,1.251109293333958,0.9424877531061365,0.11745741883892176,0.4407207812627557,1.2498415033993568,0.6992687858691436,0.4133021590696723,1.5410059040188986,-0.1973502652850087,-0.35819563690935324,1.2281040546108823,0.021087533602287142,0.7209739689455071,1.1654847424068537,-0.35819563690935324,0.730646404482617,0.9041020395423216,0.43972895991398314,0.47816815530816326,0.7241652113186691],"type":"scatter"},{"marker":{"color":"blue","opacity":0.7,"size":8},"mode":"markers","name":"Cluster 1","x":[0.26416047483604493,-0.6139114704750105,-1.0794589065722837,-0.983375424839836,-0.9584902809079727,-0.6257370446487585,-0.5650833828648198,-0.7347867458069371,-0.7204432156479074,-1.2493259380108177,-0.1954969612183276,-1.0311507256097066,-0.2815244392453267,-0.24699503037910236,-0.25147338769528654,-0.6949271019255546,-0.4448315989836734,-0.5628843269129188,-0.8533227128264584,-0.6614197523695914,-1.0466443383640802,-1.076501343024041,-0.6566253762617248,-1.0631672427253827,-1.0428165088478487,-0.7659192295667719,-1.082395166622785,-0.6743359369143322,-0.6043211007452209,-0.42835036043554847,-0.6004938700756518,-1.0076751560728054,0.009387302859045378,-0.44519378734760806,0.11441006365764403,-0.6043211007452209,-0.39294497695718733,-0.31137910920132794,-1.0631672427253827,-0.7257917884977417,-1.1945017454904432,-0.9532059327928901,-0.35022088251354094,-0.35225136929947776,-0.3561503495126965,-0.6003163854554223,-0.748267952332162,-0.5423090447981317,-0.686052008529131,0.32005564426482586,-0.2759406038267757,0.1889025935862243,-0.9584902809079727,-0.4149745943237128,-0.5994248159896916,-0.41097454203307104,-0.15163576373525253,-1.0631672427253827,-0.5437065027809893,-0.5764243508467295,-0.9583127962877432,-0.8642199542216736,-0.5408560810780282,-0.7660967141870016,-0.2958932889395004,-0.2516508723155162,-0.9584902809079727,-0.9921751150841649,-0.28265469190581927,0.01076807051296736,-0.7602946561669078,-1.0631672427253827,-0.8160045555568723,-0.25147338769528654,-1.0629897581051528,-0.48934616050715146,-0.9584902809079727,-0.5784009208936285,-0.7660967141870016,-0.5582141170358673,-0.9584902809079727,-0.28133039235524737,-0.6614197523695914,-0.6475963046512135,-0.9921751150841649,-0.7495738098256994,-0.3991905998296176,-0.1030705946116899,-0.5668090358994596,-1.0631672427253827,-0.20282278470531462,-1.0631672427253827,-0.6291642618774939,0.29051580673407335,0.06081181432063574,-0.4180883389944435,-0.5333289731040035,-0.9881698009477037,-0.30629758021566134,-0.42306601232046576,-0.6627255640797594,-0.6614197523695914,0.21027721266581442,-0.8756548854083833,-0.09426925497864677,-1.0248121986721386,-0.34274653594283316,-0.7197202804354731,-0.30448653302709017,-1.1120118926054339,-0.9919976304639354,-0.5668090358994596,-0.8312867838081254,-0.6574933006866768,-0.7457459803094679,-0.3579623763506746,-0.2489714532121766,-0.5020002789065126,-1.1236871024694546,0.10840103086524452,-0.7457299570382859,-0.40630433215601974,-0.9584902809079727,-0.5376349947187209,-0.471688063374402,-1.2080133304093312,-0.03782280480325727,-0.43771621726855625,-0.24800106641818204,-0.6614197523695914,-0.3827624931567557,-0.9584902809079727,-0.25147338769528654,-0.8106423004074892,-0.6614197523695914,-0.0857463773531217,-0.6802333882391873,-0.3359755155016475,-1.0129595041878883,-0.367685364384686,-0.288552143230674,-0.9921751150841649,-0.43771621726855625,-1.0170602590160291,-0.37261949797982735,-0.37261949797982735,-0.7804731033847633,-0.4539638141545719,-0.6142434195500568,-0.6147793948999734,0.10049508366103682,-0.3516576242558746,-0.9532059327928901,0.007831810462466844,-0.5112517813936841,-0.9584902809079727,-0.5374575100984913,-1.1743284962331388,-0.5396257854924327,-0.3561503495126965,-0.38298537508057656,-0.33613856160444033,-0.6142434195500568,-0.16855290303502288,-0.9911060609982046,-1.1236871024694546,-0.977083394812527,-0.6330476287937736,-1.0129595041878883,-0.7574211901734887,-1.0631672427253827,-0.7730576555723464,-0.7574211901734887,-0.6150433186180634,-0.7457299570382859,-0.6486039865634401,-0.3953938360465154,-0.8772579676947574,-0.7435977424551106,-0.013421298497205924,-0.05824585719798869,-0.4090987902876122,0.14377781028141848,-0.44759168485733264,-0.6330476287937736,-0.3714876498367854,-0.6614197523695914,-0.37261949797982735,0.05171545273450388,-0.5593723758136226,-0.30629758021566134,-0.9584902809079727,-0.9584902809079727,0.012742897863492085,-0.21327452476453074,-0.7527902465646651,0.20810676621144641,-1.2080133304093312,-0.08490339814563932,-0.9584902809079727,0.06618830585431641,-0.7660967141870016,-0.727564185513528,-0.45820736509550913,-0.6614197523695914,-0.9583127962877432,-0.30245372742824805,-0.49964413892781084,-0.9881698009477037,-0.412237552740511,-0.33579803088141796,-1.0235028659088672,-0.8110975112796392,0.018027245978574826,-0.7849103500565969,-0.07672554105102568,-0.9921751150841649,-0.47970945307268625,-0.9198713131366387,-0.7159090131890913,-0.42507335608624663,-1.1743284962331388,-1.1591686805292796,-0.7347867458069371,-0.7044006770315945,-0.6370529429302351,-1.0900022682932626,-1.2243587501504034,0.22651324518844254,-0.7347867458069371,-0.9584902809079728,-0.9584902809079727,-0.7823883780339025,-0.2516508723155162],"y":[-1.0818851848423077,0.13131223123651226,0.11224446283365926,0.6839140700699787,-0.348497442840913,-0.7521965864608913,0.32077580557235197,-0.5777905519165989,-0.3167061801150172,0.6232171134858586,-1.2372893260518747,0.29047373135643445,0.49676393677461145,-0.40009544431157185,-0.6510394756853205,-0.44290947406893777,-0.29682596142417644,0.0644692360016033,-0.2928272459526088,-0.6872377729320505,0.046389793355421094,0.2335922922739868,0.15773324619381274,-0.28137416388587394,-0.010498011722661257,-0.6198764991105468,0.12022032542724027,-0.22346936733001815,-0.6577593085679414,-0.1898565418720017,-0.6059002408039739,-0.018544593050696626,0.22709274039800645,-0.5768750295102203,-0.20549489025250925,-0.6577593085679414,-0.3606488716750825,-0.028034186397627874,-0.28137416388587394,-0.03155235276327985,0.47289617101910164,-0.1693415252503825,-0.4595787332927483,0.1660284058936736,-0.5839161967302813,-0.6056622459375093,0.3858760039765839,0.320675080641451,0.7815177112469226,-0.6172963921516762,-0.9541756965986664,-0.1744582429172472,-0.34849744284091305,-0.48402846034274233,-0.654574188422009,-0.4335952542635244,-0.581058686161593,-0.28137416388587394,0.39111371426963415,-0.0752888482417228,-0.34825944797444863,-0.21252305670218377,0.5502015216204289,-0.6201144939770112,0.21904577283367527,-0.651277470551785,-0.34849744284091305,-0.10440713884426471,-0.7249624692897274,-0.9760527938219642,0.0007019027617599797,-0.28137416388587394,-0.056316919008639145,-0.6510394756853205,-0.2811361690194096,-0.03792252515248359,-0.34849744284091305,-0.12509664667561748,-0.6201144939770112,0.5516192293845614,-0.34849744284091305,-0.4638369767667547,-0.6872377729320505,0.37540253523316275,-0.10440713884426471,-0.29235053673571615,0.18037913069752345,-0.6121795080387176,-0.8499905448006223,-0.28137416388587394,-0.46181389621594715,-0.28137416388587394,-0.26280022685390236,-0.40388321482483075,-0.38090373232296537,-0.4762905926156236,-0.48079228352633235,-0.16105694905588278,-0.5007185332185635,-0.010700624281471222,-0.4494974744930248,-0.6872377729320505,-0.8485413220351106,0.12967932014625624,-0.5703876112861218,-0.038314474499564204,-0.6516352794775847,0.0647691068357404,-1.1522183299987319,0.49000117018611894,-0.10416914397780039,-0.8499905448006223,-0.1762651222798491,-0.2919275226707342,-0.3492383418137987,0.5884435148348491,0.11900722942214972,0.5888473216994274,0.6496252011942463,-0.010699979429262966,0.09880217374504335,0.05355473911943352,-0.34849744284091305,0.4874351738686542,-0.4551767742122498,0.9876246323124976,-0.17412963196159587,-0.9165308820077364,0.7004761534703406,-0.6872377729320505,-1.0125105437473347,-0.34849744284091305,-0.6510394756853205,-0.3144080464173703,-0.6872377729320505,-0.279004196769378,0.44149519957786326,-0.9756782983691923,-0.19770051064122715,-0.019379937002990344,-0.059997902381845755,-0.10440713884426471,-0.9165308820077364,0.9280043740666284,-0.19053556487721454,-0.19053556487721454,-0.051521916570229365,1.0860669769612277,-0.6426749077650864,-0.31834853762803256,0.2739432337977566,-0.09700419821378789,-0.1693415252503825,-0.9680769312283812,-0.582686426677605,-0.34849744284091305,0.48767316873511873,0.7435343283158499,0.770569880459631,-0.5839161967302813,0.10299286435319038,0.1345244812588443,-0.6426749077650864,-0.7473867154442311,-0.15308108646229956,0.6496252011942463,0.6389153652734186,0.025462290657604067,-0.19770051064122715,-0.18961431080567118,-0.28137416388587394,0.34923244239123963,-0.18961431080567118,-0.002354172119298738,0.09880217374504335,0.5995571576202547,-0.19043483994631352,0.4047939982247127,0.8730259973595416,-0.33256134764411077,-0.530860327100324,-0.05541560919848125,-0.5385963485602261,-0.21008993434186107,0.025462290657604067,-0.05686916152140148,-0.6872377729320505,-0.19053556487721454,-0.4188276884648326,-0.10163930336882333,-0.5007185332185635,-0.34849744284091305,-0.34849744284091305,-0.4070954648471607,-0.27889408913156244,0.05483872743757496,-0.1344236949979539,0.9876246323124976,0.15628672884961242,-0.34849744284091305,-0.7703396990375383,-0.6201144939770112,-0.3768168097242371,-0.002654042953435895,-0.6872377729320505,-0.34825944797444863,-0.10956582273780407,-0.7248825875229804,-0.16105694905588278,-0.22136046650683103,-0.9754403035027281,0.09558992372271352,0.5424135505757413,-0.22793954725663035,0.5086184785329027,-0.6332734675868569,-0.10440713884426471,-0.8970006856386915,-0.4214321189633371,0.9687202101654884,-0.0029943461612832625,0.7435343283158499,0.21624929824050526,-0.5777905519165989,-0.23570709251973318,0.08211210086922216,0.40553489719759783,0.6600986699376675,-0.8118468740312553,-0.5777905519165989,-0.3484974428409131,-0.34849744284091305,-0.22649586725748003,-0.6512774705517851],"type":"scatter"},{"marker":{"color":"green","opacity":0.7,"size":8},"mode":"markers","name":"Cluster 2","x":[1.1651480811314663,1.3553715534370445,1.355371553437043,0.7526035587846096,0.053200750429996085,1.497697569600246,1.322755331360171,0.6654754601318291,0.4625883579603327,1.10395397646449,-0.33544169162346443,0.8582009759278358,0.9818636545113033,1.355371553437044,1.543387922793204,0.9443515896655424,0.1436392761099656,1.31675258566571,-0.008514158425123087,0.6325306145473796,0.2718149348286934,0.563612959870775,1.3058305345161327,0.7122727314559765,1.3077693766459086,0.7212163825223927,0.9665500986907607,1.7051635362349837,1.4318467093812723,0.5085369640029168,1.355371553437044,1.2817817090684818,0.6059426105451668,1.0269910565185987,0.3789742239967546,1.2462801754159418,1.6160561572875805,1.5725253351888524,0.9806898431224577,0.8723572380144079,0.15308397039642782,1.2130942148509631,0.9512915046004543,1.0643206775687075,1.246494878875052,1.4091237166030355,1.2098942507280972,1.606611463001118,0.9426817355543063,1.7051635362349837,1.31675258566571,0.5826574654267911,1.2243749122790673,1.5376474810998388,0.8801912202462204],"y":[-0.9607698796290209,-1.5592612499789926,-1.5592612499789906,-1.073180994365387,-1.3221822763473385,-0.26846002243452466,-0.12049552108419985,-0.6752858018074075,0.06018220611233758,-0.8844715299838383,-0.8818423585824674,-0.1729157139419048,-0.8846033928157356,-1.559261249978991,-0.36755627311509964,-0.6923721565830553,-1.1323853414458762,-1.4863265738565674,-1.4077851875921703,-0.40216449749214234,-1.1953451013888399,-1.5733524826463234,0.05097908779117559,-0.38297842802412874,-0.6052247176049018,-1.2584475904672185,-0.11740018058298991,-0.4052010877060299,-0.567373144868714,-1.151102323749925,-1.559261249978991,-0.9496306329919267,-0.8622534537080249,-1.2628448619482657,-0.8401761092626682,-1.112383626194477,-1.0288582966891924,-0.08099364381423364,-1.0022810082480138,0.09614250849260306,-1.4456679970495652,-0.33289291223405637,-0.5034054374882955,-0.02065837143073963,-0.02857794815749798,-0.366112595898865,-0.24324034281354104,-0.7155756410855026,-1.090813935145267,-0.4052010877060299,-1.4863265738565674,-1.0612840066697982,-0.5273651947294827,-0.6811683680287485,0.4509368003344325],"type":"scatter"},{"marker":{"color":"black","size":16,"symbol":"x"},"mode":"markers","name":"Centróides","x":[0.4078388528875427,-0.5925473502310097,0.9934777501676819],"y":[0.40786833406787976,-0.18121853759628734,-0.7566498003718541],"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"legend":{"title":{"text":"Legenda"}},"title":{"text":"Centroídes de cada Cluster com k=3"},"xaxis":{"title":{"text":"PC1"}},"yaxis":{"title":{"text":"PC2"}},"width":900,"height":650},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('67629628-ccb0-42f6-9236-ffb46e2aab21');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
</section>
<section id="escolha-de-k3" class="level3">
<h3 data-anchor-id="escolha-de-k3">Escolha de K=3</h3>
<p>Embora a métrica de Silhouette seja apenas levemente superior em K=3 (0.1239) comparado a K=2 (0.1198), ela ainda sugere que o modelo com três clusters oferece uma divisão mais refinada dos perfis comportamentais dos respondentes.</p>
<p>Os gráficos PCA 2D mostra alguma sobreposição entre os clusters (consistente com os baixos scores de silhueta), mas também revela que os centros dos clusters estão em posições distintas, indicando que o K-Means conseguiu encontrar padrões diferentes e indicando que os grupos capturam diferenças relevantes nos perfis de comportamento.</p>
</section>
<section id="interpretação-dos-clusters-e-geração-de-insights" class="level2">
<h2 data-anchor-id="interpretação-dos-clusters-e-geração-de-insights">Interpretação dos Clusters e Geração de Insights</h2>
<section id="obtendo-e-visualuando-os-os-centroides" class="level6">
<h6 data-anchor-id="obtendo-e-visualuando-os-os-centroides">Obtendo e visualuando os os centroides:</h6>
<div id="5e5d3d6b" class="cell" data-execution_count="37">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>centroids_pca <span class="op">=</span> kmeans_k3.cluster_centers_</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>centroids_ohe <span class="op">=</span> pca.inverse_transform(centroids_pca)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>centroids_df <span class="op">=</span> pd.DataFrame(centroids_ohe, columns<span class="op">=</span>ohe.get_feature_names_out())</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(centroids_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   pergunta_1_B  pergunta_1_C  pergunta_1_D  pergunta_2_B  pergunta_2_C  \
0      0.263288      0.248406      0.098141      0.387035      0.193359   
1      0.219534      0.280162      0.095265      0.474151      0.123222   
2      0.025306      0.041283      0.881655      0.205811      0.278800   

   pergunta_2_D  pergunta_3_B  pergunta_3_C  pergunta_3_D  pergunta_4_B  ...  \
0      0.029919      0.223320      0.183665      0.055479      0.387110  ...   
1      0.069168      0.212591      0.204563      0.059880      0.330362  ...   
2      0.357298      0.204543      0.205405      0.155626      0.071828  ...   

   pergunta_5_D  pergunta_6_B  pergunta_6_C  pergunta_6_D  pergunta_7_B  \
0      0.049661      0.012986      0.641069      0.119277      0.205592   
1      0.041706      0.984988     -0.012480     -0.018666      0.196746   
2      0.472921      0.215230      0.397455      0.378123      0.138356   

   pergunta_7_C  pergunta_7_D  pergunta_8_B  pergunta_8_C  pergunta_8_D  
0      0.237598      0.047379      0.329218      0.284800      0.084105  
1      0.193919      0.042967      0.237891      0.185972      0.076092  
2      0.375957      0.421558      0.009357      0.069340      0.852161  

[3 rows x 24 columns]</code></pre>
</div>
</div>
</section>
<section id="tabela-de-frequência-das-respostas-em-cada-cluster" class="level6">
<h6 data-anchor-id="tabela-de-frequência-das-respostas-em-cada-cluster">Tabela de frequência das respostas em cada Cluster:</h6>
<div id="5bf97a6e" class="cell" data-execution_count="38">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Junta o cluster ao dataframe original</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>df_clusters <span class="op">=</span> df_gf.copy()</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>df_clusters[<span class="st">'Cluster'</span>] <span class="op">=</span> clusters_k3</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>titulos_perguntas <span class="op">=</span> {</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pergunta_1'</span>: <span class="st">'Nível de clareza'</span>,</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pergunta_2'</span>: <span class="st">'Situação financeira atual'</span>,</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pergunta_3'</span>: <span class="st">'Apoio e envolvimento'</span>,</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pergunta_4'</span>: <span class="st">'Nível de organização do planejamento'</span>,</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pergunta_5'</span>: <span class="st">'Possibilidade de investimento atual'</span>,</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pergunta_6'</span>: <span class="st">'Estilo de casamento desejado'</span>,</span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pergunta_7'</span>: <span class="st">'Planejamento da lua de mel'</span>,</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pergunta_8'</span>: <span class="st">'Comprometimento em tornar realidade'</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>perguntas <span class="op">=</span> df_gf.columns.tolist()</span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>num_perguntas <span class="op">=</span> <span class="bu">len</span>(perguntas)</span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>n_rows <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>n_cols <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>subplot_titles_list <span class="op">=</span> []</span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n_rows <span class="op">*</span> n_cols):</span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="op">&lt;</span> num_perguntas:</span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a>        pergunta_nome <span class="op">=</span> perguntas[i]</span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>        titulo <span class="op">=</span> titulos_perguntas.get(pergunta_nome, pergunta_nome)</span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a>        subplot_titles_list.append(<span class="ss">f'</span><span class="sc">{</span>titulo<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a>        subplot_titles_list.append(<span class="st">''</span>)</span>
<span id="cb53-28"><a href="#cb53-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-29"><a href="#cb53-29" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> make_subplots(</span>
<span id="cb53-30"><a href="#cb53-30" aria-hidden="true" tabindex="-1"></a>    rows<span class="op">=</span>n_rows,</span>
<span id="cb53-31"><a href="#cb53-31" aria-hidden="true" tabindex="-1"></a>    cols<span class="op">=</span>n_cols,</span>
<span id="cb53-32"><a href="#cb53-32" aria-hidden="true" tabindex="-1"></a>    subplot_titles<span class="op">=</span>subplot_titles_list,</span>
<span id="cb53-33"><a href="#cb53-33" aria-hidden="true" tabindex="-1"></a>    horizontal_spacing<span class="op">=</span><span class="fl">0.07</span>,  <span class="co"># Espaço confortável entre subplots</span></span>
<span id="cb53-34"><a href="#cb53-34" aria-hidden="true" tabindex="-1"></a>    vertical_spacing<span class="op">=</span><span class="fl">0.12</span></span>
<span id="cb53-35"><a href="#cb53-35" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb53-36"><a href="#cb53-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-37"><a href="#cb53-37" aria-hidden="true" tabindex="-1"></a>palette <span class="op">=</span> qualitative.Vivid</span>
<span id="cb53-38"><a href="#cb53-38" aria-hidden="true" tabindex="-1"></a>unique_cluster_values <span class="op">=</span> <span class="bu">sorted</span>(df_clusters[<span class="st">'Cluster'</span>].unique())</span>
<span id="cb53-39"><a href="#cb53-39" aria-hidden="true" tabindex="-1"></a>cluster_color_map <span class="op">=</span> {</span>
<span id="cb53-40"><a href="#cb53-40" aria-hidden="true" tabindex="-1"></a>    cluster_val: palette[i <span class="op">%</span> <span class="bu">len</span>(palette)]</span>
<span id="cb53-41"><a href="#cb53-41" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, cluster_val <span class="kw">in</span> <span class="bu">enumerate</span>(unique_cluster_values)</span>
<span id="cb53-42"><a href="#cb53-42" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb53-43"><a href="#cb53-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-44"><a href="#cb53-44" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, pergunta <span class="kw">in</span> <span class="bu">enumerate</span>(perguntas):</span>
<span id="cb53-45"><a href="#cb53-45" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="op">&gt;=</span> n_rows <span class="op">*</span> n_cols:</span>
<span id="cb53-46"><a href="#cb53-46" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span>
<span id="cb53-47"><a href="#cb53-47" aria-hidden="true" tabindex="-1"></a>    row_num <span class="op">=</span> (i <span class="op">//</span> n_cols) <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb53-48"><a href="#cb53-48" aria-hidden="true" tabindex="-1"></a>    col_num <span class="op">=</span> (i <span class="op">%</span> n_cols) <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb53-49"><a href="#cb53-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-50"><a href="#cb53-50" aria-hidden="true" tabindex="-1"></a>    ordem_categorias <span class="op">=</span> df_clusters[pergunta].value_counts().index.tolist()</span>
<span id="cb53-51"><a href="#cb53-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-52"><a href="#cb53-52" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> cluster_val <span class="kw">in</span> unique_cluster_values:</span>
<span id="cb53-53"><a href="#cb53-53" aria-hidden="true" tabindex="-1"></a>        df_subset_cluster <span class="op">=</span> df_clusters[df_clusters[<span class="st">'Cluster'</span>] <span class="op">==</span> cluster_val]</span>
<span id="cb53-54"><a href="#cb53-54" aria-hidden="true" tabindex="-1"></a>        counts <span class="op">=</span> df_subset_cluster[pergunta].value_counts()</span>
<span id="cb53-55"><a href="#cb53-55" aria-hidden="true" tabindex="-1"></a>        y_values <span class="op">=</span> [counts.get(cat, <span class="dv">0</span>) <span class="cf">for</span> cat <span class="kw">in</span> ordem_categorias]</span>
<span id="cb53-56"><a href="#cb53-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-57"><a href="#cb53-57" aria-hidden="true" tabindex="-1"></a>        fig.add_trace(go.Bar(</span>
<span id="cb53-58"><a href="#cb53-58" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span>ordem_categorias,</span>
<span id="cb53-59"><a href="#cb53-59" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span>y_values,</span>
<span id="cb53-60"><a href="#cb53-60" aria-hidden="true" tabindex="-1"></a>            name<span class="op">=</span><span class="ss">f'Cluster </span><span class="sc">{</span>cluster_val<span class="sc">}</span><span class="ss">'</span>,</span>
<span id="cb53-61"><a href="#cb53-61" aria-hidden="true" tabindex="-1"></a>            marker_color<span class="op">=</span>cluster_color_map[cluster_val],</span>
<span id="cb53-62"><a href="#cb53-62" aria-hidden="true" tabindex="-1"></a>            showlegend<span class="op">=</span><span class="va">False</span>  <span class="co"># Sem legenda em nenhum subplot</span></span>
<span id="cb53-63"><a href="#cb53-63" aria-hidden="true" tabindex="-1"></a>        ), row<span class="op">=</span>row_num, col<span class="op">=</span>col_num)</span>
<span id="cb53-64"><a href="#cb53-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-65"><a href="#cb53-65" aria-hidden="true" tabindex="-1"></a>    fig.update_xaxes(</span>
<span id="cb53-66"><a href="#cb53-66" aria-hidden="true" tabindex="-1"></a>        <span class="bu">type</span><span class="op">=</span><span class="st">'category'</span>,</span>
<span id="cb53-67"><a href="#cb53-67" aria-hidden="true" tabindex="-1"></a>        categoryorder<span class="op">=</span><span class="st">'array'</span>,</span>
<span id="cb53-68"><a href="#cb53-68" aria-hidden="true" tabindex="-1"></a>        categoryarray<span class="op">=</span>ordem_categorias,</span>
<span id="cb53-69"><a href="#cb53-69" aria-hidden="true" tabindex="-1"></a>        tickangle<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb53-70"><a href="#cb53-70" aria-hidden="true" tabindex="-1"></a>        showticklabels<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb53-71"><a href="#cb53-71" aria-hidden="true" tabindex="-1"></a>        row<span class="op">=</span>row_num,</span>
<span id="cb53-72"><a href="#cb53-72" aria-hidden="true" tabindex="-1"></a>        col<span class="op">=</span>col_num</span>
<span id="cb53-73"><a href="#cb53-73" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb53-74"><a href="#cb53-74" aria-hidden="true" tabindex="-1"></a>    fig.update_yaxes(</span>
<span id="cb53-75"><a href="#cb53-75" aria-hidden="true" tabindex="-1"></a>        title_text<span class="op">=</span><span class="va">None</span>,</span>
<span id="cb53-76"><a href="#cb53-76" aria-hidden="true" tabindex="-1"></a>        row<span class="op">=</span>row_num,</span>
<span id="cb53-77"><a href="#cb53-77" aria-hidden="true" tabindex="-1"></a>        col<span class="op">=</span>col_num</span>
<span id="cb53-78"><a href="#cb53-78" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb53-79"><a href="#cb53-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-80"><a href="#cb53-80" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb53-81"><a href="#cb53-81" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">1100</span>,    <span class="co"># Maior altura</span></span>
<span id="cb53-82"><a href="#cb53-82" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">1100</span>,     <span class="co"># Maior largura</span></span>
<span id="cb53-83"><a href="#cb53-83" aria-hidden="true" tabindex="-1"></a>    barmode<span class="op">=</span><span class="st">'group'</span>,</span>
<span id="cb53-84"><a href="#cb53-84" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">'plotly_white'</span>,</span>
<span id="cb53-85"><a href="#cb53-85" aria-hidden="true" tabindex="-1"></a>    showlegend<span class="op">=</span><span class="va">False</span>,  <span class="co"># Remove legenda do lado direito</span></span>
<span id="cb53-86"><a href="#cb53-86" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span>{</span>
<span id="cb53-87"><a href="#cb53-87" aria-hidden="true" tabindex="-1"></a>        <span class="st">'text'</span>: <span class="st">'Frequência das respostas em cada Cluster'</span>,</span>
<span id="cb53-88"><a href="#cb53-88" aria-hidden="true" tabindex="-1"></a>        <span class="st">'x'</span>: <span class="fl">0.5</span>,</span>
<span id="cb53-89"><a href="#cb53-89" aria-hidden="true" tabindex="-1"></a>        <span class="st">'xanchor'</span>: <span class="st">'center'</span>,</span>
<span id="cb53-90"><a href="#cb53-90" aria-hidden="true" tabindex="-1"></a>        <span class="st">'yanchor'</span>: <span class="st">'top'</span>,</span>
<span id="cb53-91"><a href="#cb53-91" aria-hidden="true" tabindex="-1"></a>        <span class="st">'y'</span>: <span class="fl">0.97</span>,</span>
<span id="cb53-92"><a href="#cb53-92" aria-hidden="true" tabindex="-1"></a>        <span class="st">'pad'</span>: {<span class="st">'b'</span>: <span class="dv">20</span>}</span>
<span id="cb53-93"><a href="#cb53-93" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb53-94"><a href="#cb53-94" aria-hidden="true" tabindex="-1"></a>    margin<span class="op">=</span><span class="bu">dict</span>(t<span class="op">=</span><span class="dv">100</span>, b<span class="op">=</span><span class="dv">65</span>, l<span class="op">=</span><span class="dv">35</span>, r<span class="op">=</span><span class="dv">35</span>)</span>
<span id="cb53-95"><a href="#cb53-95" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb53-96"><a href="#cb53-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-97"><a href="#cb53-97" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>                            <div id="64ae0b79-fd5f-4af2-9557-c259010a4e86" class="plotly-graph-div" style="height:1100px; width:1100px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("64ae0b79-fd5f-4af2-9557-c259010a4e86")) {                    Plotly.newPlot(                        "64ae0b79-fd5f-4af2-9557-c259010a4e86",                        [{"marker":{"color":"rgb(229, 134, 6)"},"name":"Cluster 0","showlegend":false,"x":["A","C","B","D"],"y":[81,51,54,20],"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"rgb(93, 105, 177)"},"name":"Cluster 1","showlegend":false,"x":["A","C","B","D"],"y":[96,65,51,22],"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"rgb(82, 188, 163)"},"name":"Cluster 2","showlegend":false,"x":["A","C","B","D"],"y":[1,3,2,49],"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"rgb(229, 134, 6)"},"name":"Cluster 0","showlegend":false,"x":["B","A","C","D"],"y":[80,79,40,7],"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"rgb(93, 105, 177)"},"name":"Cluster 1","showlegend":false,"x":["B","A","C","D"],"y":[111,78,29,16],"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"rgb(82, 188, 163)"},"name":"Cluster 2","showlegend":false,"x":["B","A","C","D"],"y":[11,10,15,19],"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"rgb(229, 134, 6)"},"name":"Cluster 0","showlegend":false,"x":["A","B","C","D"],"y":[110,46,38,12],"type":"bar","xaxis":"x3","yaxis":"y3"},{"marker":{"color":"rgb(93, 105, 177)"},"name":"Cluster 1","showlegend":false,"x":["A","B","C","D"],"y":[121,50,48,15],"type":"bar","xaxis":"x3","yaxis":"y3"},{"marker":{"color":"rgb(82, 188, 163)"},"name":"Cluster 2","showlegend":false,"x":["A","B","C","D"],"y":[26,11,11,7],"type":"bar","xaxis":"x3","yaxis":"y3"},{"marker":{"color":"rgb(229, 134, 6)"},"name":"Cluster 0","showlegend":false,"x":["A","B","C","D"],"y":[92,80,29,5],"type":"bar","xaxis":"x4","yaxis":"y4"},{"marker":{"color":"rgb(93, 105, 177)"},"name":"Cluster 1","showlegend":false,"x":["A","B","C","D"],"y":[134,77,18,5],"type":"bar","xaxis":"x4","yaxis":"y4"},{"marker":{"color":"rgb(82, 188, 163)"},"name":"Cluster 2","showlegend":false,"x":["A","B","C","D"],"y":[4,4,15,32],"type":"bar","xaxis":"x4","yaxis":"y4"},{"marker":{"color":"rgb(229, 134, 6)"},"name":"Cluster 0","showlegend":false,"x":["B","A","C","D"],"y":[67,95,35,9],"type":"bar","xaxis":"x5","yaxis":"y5"},{"marker":{"color":"rgb(93, 105, 177)"},"name":"Cluster 1","showlegend":false,"x":["B","A","C","D"],"y":[146,60,18,10],"type":"bar","xaxis":"x5","yaxis":"y5"},{"marker":{"color":"rgb(82, 188, 163)"},"name":"Cluster 2","showlegend":false,"x":["B","A","C","D"],"y":[9,5,14,27],"type":"bar","xaxis":"x5","yaxis":"y5"},{"marker":{"color":"rgb(229, 134, 6)"},"name":"Cluster 0","showlegend":false,"x":["B","C","A","D"],"y":[0,129,57,20],"type":"bar","xaxis":"x6","yaxis":"y6"},{"marker":{"color":"rgb(93, 105, 177)"},"name":"Cluster 1","showlegend":false,"x":["B","C","A","D"],"y":[233,0,1,0],"type":"bar","xaxis":"x6","yaxis":"y6"},{"marker":{"color":"rgb(82, 188, 163)"},"name":"Cluster 2","showlegend":false,"x":["B","C","A","D"],"y":[12,22,0,21],"type":"bar","xaxis":"x6","yaxis":"y6"},{"marker":{"color":"rgb(229, 134, 6)"},"name":"Cluster 0","showlegend":false,"x":["A","C","B","D"],"y":[101,50,43,12],"type":"bar","xaxis":"x7","yaxis":"y7"},{"marker":{"color":"rgb(93, 105, 177)"},"name":"Cluster 1","showlegend":false,"x":["A","C","B","D"],"y":[133,45,46,10],"type":"bar","xaxis":"x7","yaxis":"y7"},{"marker":{"color":"rgb(82, 188, 163)"},"name":"Cluster 2","showlegend":false,"x":["A","C","B","D"],"y":[7,20,7,21],"type":"bar","xaxis":"x7","yaxis":"y7"},{"marker":{"color":"rgb(229, 134, 6)"},"name":"Cluster 0","showlegend":false,"x":["A","B","C","D"],"y":[61,68,59,18],"type":"bar","xaxis":"x8","yaxis":"y8"},{"marker":{"color":"rgb(93, 105, 177)"},"name":"Cluster 1","showlegend":false,"x":["A","B","C","D"],"y":[119,55,43,17],"type":"bar","xaxis":"x8","yaxis":"y8"},{"marker":{"color":"rgb(82, 188, 163)"},"name":"Cluster 2","showlegend":false,"x":["A","B","C","D"],"y":[3,1,4,47],"type":"bar","xaxis":"x8","yaxis":"y8"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.0,0.2866666666666667],"type":"category","categoryorder":"array","categoryarray":["A","C","B","D"],"tickangle":0,"showticklabels":true},"yaxis":{"anchor":"x","domain":[0.7466666666666667,1.0]},"xaxis2":{"anchor":"y2","domain":[0.3566666666666667,0.6433333333333333],"type":"category","categoryorder":"array","categoryarray":["B","A","C","D"],"tickangle":0,"showticklabels":true},"yaxis2":{"anchor":"x2","domain":[0.7466666666666667,1.0]},"xaxis3":{"anchor":"y3","domain":[0.7133333333333334,1.0],"type":"category","categoryorder":"array","categoryarray":["A","B","C","D"],"tickangle":0,"showticklabels":true},"yaxis3":{"anchor":"x3","domain":[0.7466666666666667,1.0]},"xaxis4":{"anchor":"y4","domain":[0.0,0.2866666666666667],"type":"category","categoryorder":"array","categoryarray":["A","B","C","D"],"tickangle":0,"showticklabels":true},"yaxis4":{"anchor":"x4","domain":[0.37333333333333335,0.6266666666666667]},"xaxis5":{"anchor":"y5","domain":[0.3566666666666667,0.6433333333333333],"type":"category","categoryorder":"array","categoryarray":["B","A","C","D"],"tickangle":0,"showticklabels":true},"yaxis5":{"anchor":"x5","domain":[0.37333333333333335,0.6266666666666667]},"xaxis6":{"anchor":"y6","domain":[0.7133333333333334,1.0],"type":"category","categoryorder":"array","categoryarray":["B","C","A","D"],"tickangle":0,"showticklabels":true},"yaxis6":{"anchor":"x6","domain":[0.37333333333333335,0.6266666666666667]},"xaxis7":{"anchor":"y7","domain":[0.0,0.2866666666666667],"type":"category","categoryorder":"array","categoryarray":["A","C","B","D"],"tickangle":0,"showticklabels":true},"yaxis7":{"anchor":"x7","domain":[0.0,0.25333333333333335]},"xaxis8":{"anchor":"y8","domain":[0.3566666666666667,0.6433333333333333],"type":"category","categoryorder":"array","categoryarray":["A","B","C","D"],"tickangle":0,"showticklabels":true},"yaxis8":{"anchor":"x8","domain":[0.0,0.25333333333333335]},"xaxis9":{"anchor":"y9","domain":[0.7133333333333334,1.0]},"yaxis9":{"anchor":"x9","domain":[0.0,0.25333333333333335]},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Nível de clareza","x":0.14333333333333334,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Situação financeira atual","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Apoio e envolvimento","x":0.8566666666666667,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Nível de organização do planejamento","x":0.14333333333333334,"xanchor":"center","xref":"paper","y":0.6266666666666667,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Possibilidade de investimento atual","x":0.5,"xanchor":"center","xref":"paper","y":0.6266666666666667,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Estilo de casamento desejado","x":0.8566666666666667,"xanchor":"center","xref":"paper","y":0.6266666666666667,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Planejamento da lua de mel","x":0.14333333333333334,"xanchor":"center","xref":"paper","y":0.25333333333333335,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Comprometimento em tornar realidade","x":0.5,"xanchor":"center","xref":"paper","y":0.25333333333333335,"yanchor":"bottom","yref":"paper"}],"title":{"pad":{"b":20},"text":"Frequência das respostas em cada Cluster","x":0.5,"xanchor":"center","yanchor":"top","y":0.97},"margin":{"t":100,"b":65,"l":35,"r":35},"height":1100,"width":1100,"barmode":"group","showlegend":false},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('64ae0b79-fd5f-4af2-9557-c259010a4e86');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="calculando-as-5-primeiras-médias-de-cada-resposta-por-cluster" class="level6">
<h6 data-anchor-id="calculando-as-5-primeiras-médias-de-cada-resposta-por-cluster">Calculando as 5 primeiras médias de cada resposta por cluster:</h6>
<div id="d3998bae" class="cell" data-execution_count="39">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>df_encoded <span class="op">=</span> pd.get_dummies(df_clusters.drop(<span class="st">'Cluster'</span>, axis<span class="op">=</span><span class="dv">1</span>), prefix_sep<span class="op">=</span><span class="st">'_'</span>, drop_first<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>df_encoded[<span class="st">'Cluster'</span>] <span class="op">=</span> df_clusters[<span class="st">'Cluster'</span>]</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>centroids <span class="op">=</span> df_encoded.groupby(<span class="st">'Cluster'</span>).mean()</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> make_subplots(</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>    rows<span class="op">=</span><span class="dv">1</span>, </span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>    cols<span class="op">=</span><span class="dv">3</span>, </span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>    subplot_titles<span class="op">=</span>[<span class="ss">f"Cluster </span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">"</span> <span class="cf">for</span> i <span class="kw">in</span> centroids.index],</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>    specs<span class="op">=</span>[[{<span class="st">"type"</span>: <span class="st">"table"</span>}]<span class="op">*</span><span class="dv">3</span>]</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, cluster <span class="kw">in</span> <span class="bu">enumerate</span>(centroids.index):</span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>    top5 <span class="op">=</span> centroids.loc[cluster].sort_values(ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">5</span>)</span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(</span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>        go.Table(</span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>            header<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>                values<span class="op">=</span>[<span class="st">"Resposta"</span>, <span class="st">"Proporção"</span>],</span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a>                fill_color<span class="op">=</span><span class="st">"lightgrey"</span>,</span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a>                align<span class="op">=</span><span class="st">"left"</span>,</span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a>                font<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">"black"</span>, size<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a>            ),</span>
<span id="cb54-23"><a href="#cb54-23" aria-hidden="true" tabindex="-1"></a>            cells<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb54-24"><a href="#cb54-24" aria-hidden="true" tabindex="-1"></a>                values<span class="op">=</span>[top5.index, top5.values.<span class="bu">round</span>(<span class="dv">3</span>)],</span>
<span id="cb54-25"><a href="#cb54-25" aria-hidden="true" tabindex="-1"></a>                align<span class="op">=</span><span class="st">"left"</span>,</span>
<span id="cb54-26"><a href="#cb54-26" aria-hidden="true" tabindex="-1"></a>                height<span class="op">=</span><span class="dv">30</span></span>
<span id="cb54-27"><a href="#cb54-27" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb54-28"><a href="#cb54-28" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb54-29"><a href="#cb54-29" aria-hidden="true" tabindex="-1"></a>        row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span>i<span class="op">+</span><span class="dv">1</span></span>
<span id="cb54-30"><a href="#cb54-30" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb54-31"><a href="#cb54-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-32"><a href="#cb54-32" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb54-33"><a href="#cb54-33" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">300</span>, </span>
<span id="cb54-34"><a href="#cb54-34" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">1000</span>,</span>
<span id="cb54-35"><a href="#cb54-35" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">"plotly_white"</span>,</span>
<span id="cb54-36"><a href="#cb54-36" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span>{</span>
<span id="cb54-37"><a href="#cb54-37" aria-hidden="true" tabindex="-1"></a>        <span class="st">'text'</span>: <span class="st">'Respostas mais representativas por Cluster'</span>,</span>
<span id="cb54-38"><a href="#cb54-38" aria-hidden="true" tabindex="-1"></a>        <span class="st">'x'</span>: <span class="fl">0.5</span>,</span>
<span id="cb54-39"><a href="#cb54-39" aria-hidden="true" tabindex="-1"></a>        <span class="st">'xanchor'</span>: <span class="st">'center'</span>,</span>
<span id="cb54-40"><a href="#cb54-40" aria-hidden="true" tabindex="-1"></a>        <span class="st">'yanchor'</span>: <span class="st">'top'</span>,</span>
<span id="cb54-41"><a href="#cb54-41" aria-hidden="true" tabindex="-1"></a>        <span class="st">'y'</span>: <span class="fl">0.96</span>,</span>
<span id="cb54-42"><a href="#cb54-42" aria-hidden="true" tabindex="-1"></a>        <span class="st">'pad'</span>: {<span class="st">'b'</span>: <span class="dv">15</span>}  <span class="co"># Separação do título para as tabelas</span></span>
<span id="cb54-43"><a href="#cb54-43" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb54-44"><a href="#cb54-44" aria-hidden="true" tabindex="-1"></a>    margin<span class="op">=</span><span class="bu">dict</span>(t<span class="op">=</span><span class="dv">70</span>, b<span class="op">=</span><span class="dv">35</span>, l<span class="op">=</span><span class="dv">30</span>, r<span class="op">=</span><span class="dv">30</span>)</span>
<span id="cb54-45"><a href="#cb54-45" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb54-46"><a href="#cb54-46" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>                            <div id="2ec66d25-0a88-4568-88a5-3c3524707946" class="plotly-graph-div" style="height:300px; width:1000px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("2ec66d25-0a88-4568-88a5-3c3524707946")) {                    Plotly.newPlot(                        "2ec66d25-0a88-4568-88a5-3c3524707946",                        [{"cells":{"align":"left","height":30,"values":[["pergunta_6_C","pergunta_3_A","pergunta_7_A","pergunta_5_A","pergunta_4_A"],[0.626,0.534,0.49,0.461,0.447]]},"header":{"align":"left","fill":{"color":"lightgrey"},"font":{"color":"black","size":12},"values":["Resposta","Proporção"]},"type":"table","domain":{"x":[0.0,0.2888888888888889],"y":[0.0,1.0]}},{"cells":{"align":"left","height":30,"values":[["pergunta_6_B","pergunta_5_B","pergunta_4_A","pergunta_7_A","pergunta_3_A"],[0.996,0.624,0.573,0.568,0.517]]},"header":{"align":"left","fill":{"color":"lightgrey"},"font":{"color":"black","size":12},"values":["Resposta","Proporção"]},"type":"table","domain":{"x":[0.35555555555555557,0.6444444444444445],"y":[0.0,1.0]}},{"cells":{"align":"left","height":30,"values":[["pergunta_1_D","pergunta_8_D","pergunta_4_D","pergunta_5_D","pergunta_3_A"],[0.891,0.855,0.582,0.491,0.473]]},"header":{"align":"left","fill":{"color":"lightgrey"},"font":{"color":"black","size":12},"values":["Resposta","Proporção"]},"type":"table","domain":{"x":[0.7111111111111111,1.0],"y":[0.0,1.0]}}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Cluster 0","x":0.14444444444444446,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Cluster 1","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Cluster 2","x":0.8555555555555556,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"}],"title":{"pad":{"b":15},"text":"Respostas mais representativas por Cluster","x":0.5,"xanchor":"center","yanchor":"top","y":0.96},"margin":{"t":70,"b":35,"l":30,"r":30},"height":300,"width":1000},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('2ec66d25-0a88-4568-88a5-3c3524707946');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>Com base na análise dos centroides, que representam os valores médios (proporções de escolha) de cada resposta dentro de cada cluster, podemos interpretar que:</p>
<ul>
<li><p>Quanto mais próximo de 1, mais predominante é essa característica no grupo.</p></li>
<li><p>Cada valor varia de 0 a 1 e representa a frequência relativa com que aquela opção foi escolhida dentro do cluster.</p></li>
</ul>
<p>Esse método nos permite entender o perfil médio e as prioridades de cada segmento.</p>
</section>
</section>
<section id="interpretação-dos-clusters" class="level2">
<h2 data-anchor-id="interpretação-dos-clusters">Interpretação dos Clusters</h2>
<section id="grupo-1-234-leads-cluster-1-47" class="level3">
<h3 data-anchor-id="grupo-1-234-leads-cluster-1-47">Grupo 1: 234 leads (Cluster 1 — 47%)</h3>
<section id="perfil" class="level5">
<h5 data-anchor-id="perfil">Perfil:</h5>
<ul>
<li>Estilo de Casamento (Pergunta 6): Predominantemente, desejam “Algo íntimo e simples, só com pessoas próximas” (🔸 pergunta_6_B – 99.6%). Este é o traço mais marcante deste grupo.</li>
<li>Possibilidade de Investimento (Pergunta 5): A maioria acredita que “Conseguiríamos fazer algo simples” se fossem realizar o casamento hoje (🔸 pergunta_5_B – 62.4%).</li>
<li>Nível de Organização (Pergunta 4): Uma parcela significativa “Não começamos ainda” o planejamento (🔸 pergunta_4_A – 57.3%).</li>
<li>Planejamento da Lua de Mel (Pergunta 7): A maioria “Nem pensamos nisso ainda” (🔸 pergunta_7_A – 56.8%).</li>
<li>Apoio do Parceiro (Pergunta 3): O parceiro(a) “Está completamente envolvido(a), sonha junto comigo” (🔸 pergunta_3_A – 51.7%).</li>
</ul>
</section>
<section id="resumo-do-comportamento" class="level5">
<h5 data-anchor-id="resumo-do-comportamento">Resumo do Comportamento:</h5>
<ul>
<li>Este é o maior grupo e caracteriza-se por um desejo claro por um casamento mais simples e intimista.</li>
<li>Financeiramente, sentem-se capazes de realizar um evento modesto, mas ainda não iniciaram a organização prática nem o planejamento da lua de mel.</li>
<li>O envolvimento do parceiro é alto, indicando um sonho compartilhado. *Apesar da simplicidade desejada, a falta de início no planejamento sugere uma necessidade de orientação para dar os primeiros passos, mesmo para um evento menor.</li>
</ul>
</section>
<section id="necessidades" class="level5">
<h5 data-anchor-id="necessidades">Necessidades:</h5>
<ul>
<li>Ideias e inspirações para casamentos simples, elegantes e econômicos.</li>
<li>Ferramentas de planejamento focadas em eventos menores e mais objetivos.</li>
<li>Direcionamento sobre como começar a planejar um casamento intimista sem complicação.</li>
<li>Conteúdo que valide a escolha por um casamento menor, mostrando seus benefícios e charme.</li>
</ul>
<hr>
</section>
</section>
<section id="grupo-2-206-leads-cluster-0---42" class="level3">
<h3 data-anchor-id="grupo-2-206-leads-cluster-0---42">Grupo 2: 206 leads (Cluster 0 - 42%)</h3>
<section id="perfil-1" class="level5">
<h5 data-anchor-id="perfil-1">Perfil:</h5>
<ul>
<li>Estilo de Casamento (Pergunta 6): Desejam “Uma cerimônia encantadora, com tudo bem feito”, mas não necessariamente o mais luxuoso (🔸 pergunta_6_C – 62.6%).</li>
<li>Apoio do Parceiro (Pergunta 3): O parceiro(a) “Está completamente envolvido(a), sonha junto comigo” (🔸 pergunta_3_A – 53.4%).</li>
<li>Planejamento da Lua de Mel (Pergunta 7): A grande maioria “Nem pensamos nisso ainda” (🔸 pergunta_7_A – 49.0%).</li>
<li>Possibilidade de Investimento (Pergunta 5): Sentem que “Não conseguiríamos bancar nada ainda” se o casamento fosse hoje (🔸 pergunta_5_A – 46.1%).</li>
<li>Nível de Organização (Pergunta 4): Ainda “Não começamos ainda” o planejamento (🔸 pergunta_4_A – 44.7%).</li>
</ul>
</section>
<section id="resumo-do-comportamento-1" class="level5">
<h5 data-anchor-id="resumo-do-comportamento-1">Resumo do Comportamento:</h5>
<ul>
<li>Este grupo, um dos maiores, está em um estágio muito inicial. Têm sonhos e desejos claros sobre o estilo da cerimônia e contam com forte apoio mútuo no casal.</li>
<li>No entanto, enfrentam uma paralisia prática devido à falta de organização e, crucialmente, à percepção de incapacidade financeira no momento.</li>
<li>Estão sonhando alto, mas se sentem perdidas sobre por onde começar, com o orçamento e a organização sendo os principais gargalos.</li>
</ul>
</section>
<section id="necessidades-1" class="level5">
<h5 data-anchor-id="necessidades-1">Necessidades:</h5>
<ul>
<li>Guias práticos e passo a passo: “Do zero ao casamento dos sonhos: um guia para iniciantes”.</li>
<li>Ferramentas básicas de organização: checklists simples, cronogramas iniciais, modelos de planilhas de orçamento para iniciantes.</li>
<li>Soluções e ideias para casamentos acessíveis: Conteúdo sobre como realizar uma cerimônia encantadora com orçamento limitado.</li>
<li>Conteúdo emocional e motivacional: Que reforce que é normal sentir-se perdido no início e que é possível transformar o sonho em realidade com planejamento, mesmo com recursos limitados.</li>
</ul>
<hr>
</section>
</section>
<section id="grupo-3-55-leads-cluster-2-11" class="level3">
<h3 data-anchor-id="grupo-3-55-leads-cluster-2-11">Grupo 3: 55 leads (Cluster 2 — 11%)</h3>
<section id="perfil-2" class="level5">
<h5 data-anchor-id="perfil-2">Perfil:</h5>
<ul>
<li>Nível de Clareza (Pergunta 1): Têm um nível de clareza muito alto: “Sabemos exatamente o que queremos e já começamos a organizar” (🔸 pergunta_1_D – 89.1%).</li>
<li>Comprometimento (Pergunta 8): Estão altamente comprometidas: “Estamos prontos, queremos agir e realizar de verdade” (🔸 pergunta_8_D – 85.5%).</li>
<li>Nível de Organização (Pergunta 4): Já estão bem organizadas: “Temos planilhas, metas e até cronograma definido” (🔸 pergunta_4_D – 58.2%).</li>
<li>Possibilidade de Investimento (Pergunta 5): Acreditam que “Poderíamos arcar com boa parte, mas queremos mais liberdade” financeira (🔸 pergunta_5_D – 49.1%).</li>
<li>Apoio do Parceiro (Pergunta 3): O parceiro(a) “Está completamente envolvido(a), sonha junto comigo” (🔸 pergunta_3_A – 47.3%).</li>
</ul>
</section>
<section id="resumo-do-comportamento-2" class="level5">
<h5 data-anchor-id="resumo-do-comportamento-2">Resumo do Comportamento:</h5>
<ul>
<li>Este é o menor grupo, mas representa as noivas mais decididas e proativas.</li>
<li>Possuem clareza total sobre o casamento desejado, estão altamente comprometidas e já possuem um planejamento avançado.</li>
<li>Financeiramente, estão em uma posição relativamente confortável, mas buscam otimizar seus recursos para ter “mais liberdade”.</li>
<li>O apoio do parceiro também é forte, indicando um esforço conjunto e alinhado.</li>
<li>Provavelmente já pesquisaram bastante e podem estar buscando otimizar o que já planejaram ou encontrar fornecedores e soluções que se encaixem em sua visão clara.</li>
</ul>
</section>
<section id="necessidades-2" class="level5">
<h5 data-anchor-id="necessidades-2">Necessidades:</h5>
<ul>
<li>Soluções para otimizar o orçamento e maximizar o valor do investimento.</li>
<li>Ferramentas avançadas de gerenciamento de fornecedores ou cronogramas detalhados.</li>
<li>Consultoria especializada para refinar detalhes ou resolver pontos específicos do planejamento.</li>
<li>Inspiração para toques finais ou elementos diferenciados que agreguem valor ao casamento já bem delineado.</li>
<li>Confirmação de que estão no caminho certo e acesso a fornecedores de confiança.</li>
</ul>
<section id="contagens-de-leads-em-cada-grupo" class="level6">
<h6 data-anchor-id="contagens-de-leads-em-cada-grupo">Contagens de leads em cada Grupo:</h6>
<div id="349b7d3f" class="cell" data-execution_count="40">
<details class="code-fold">
<summary>Mostrar Código</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Contagem dos clusters</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>cluster_counts <span class="op">=</span> df_clusters[<span class="st">'Cluster'</span>].value_counts().sort_index()</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Novas labels do eixo x</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>x_labels <span class="op">=</span> {<span class="dv">0</span>: <span class="st">'Grupo 2'</span>, <span class="dv">1</span>: <span class="st">'Grupo 1'</span>, <span class="dv">2</span>: <span class="st">'Grupo 3'</span>}</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>x_axis_labels <span class="op">=</span> [x_labels[c] <span class="cf">for</span> c <span class="kw">in</span> cluster_counts.index]</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>vivid_palette_px <span class="op">=</span> px.colors.qualitative.Vivid</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>bar_colors <span class="op">=</span> [vivid_palette_px[i <span class="op">%</span> <span class="bu">len</span>(vivid_palette_px)] <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(cluster_counts.index))]</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>fig.add_trace(go.Bar(</span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>x_axis_labels,</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>cluster_counts.values,</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>    marker_color<span class="op">=</span>bar_colors,</span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>    text<span class="op">=</span>cluster_counts.values,</span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>    texttemplate<span class="op">=</span><span class="st">'&lt;b&gt;%</span><span class="sc">{y}</span><span class="st">&lt;/b&gt;'</span>,</span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>    textposition<span class="op">=</span><span class="st">'outside'</span>,</span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>    textfont<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">12</span>, color<span class="op">=</span><span class="st">'black'</span>, family<span class="op">=</span><span class="st">'Arial'</span>)</span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span><span class="st">'Leads por Grupo'</span>,</span>
<span id="cb55-28"><a href="#cb55-28" aria-hidden="true" tabindex="-1"></a>        font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">20</span>, color<span class="op">=</span><span class="st">'black'</span>, family<span class="op">=</span><span class="st">'Arial Black'</span>),</span>
<span id="cb55-29"><a href="#cb55-29" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb55-30"><a href="#cb55-30" aria-hidden="true" tabindex="-1"></a>        xanchor<span class="op">=</span><span class="st">'center'</span>,</span>
<span id="cb55-31"><a href="#cb55-31" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="fl">0.97</span>,</span>
<span id="cb55-32"><a href="#cb55-32" aria-hidden="true" tabindex="-1"></a>        yanchor<span class="op">=</span><span class="st">'top'</span>,</span>
<span id="cb55-33"><a href="#cb55-33" aria-hidden="true" tabindex="-1"></a>        pad<span class="op">=</span>{<span class="st">'b'</span>: <span class="dv">12</span>}</span>
<span id="cb55-34"><a href="#cb55-34" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb55-35"><a href="#cb55-35" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="va">None</span>,  <span class="co"># Remove legenda do eixo X</span></span>
<span id="cb55-36"><a href="#cb55-36" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">'Número de Leads'</span>,</span>
<span id="cb55-37"><a href="#cb55-37" aria-hidden="true" tabindex="-1"></a>    xaxis<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb55-38"><a href="#cb55-38" aria-hidden="true" tabindex="-1"></a>        tickangle<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb55-39"><a href="#cb55-39" aria-hidden="true" tabindex="-1"></a>        <span class="bu">type</span><span class="op">=</span><span class="st">'category'</span>,</span>
<span id="cb55-40"><a href="#cb55-40" aria-hidden="true" tabindex="-1"></a>        tickfont<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">14</span>, color<span class="op">=</span><span class="st">'black'</span>)</span>
<span id="cb55-41"><a href="#cb55-41" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb55-42"><a href="#cb55-42" aria-hidden="true" tabindex="-1"></a>    yaxis<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb55-43"><a href="#cb55-43" aria-hidden="true" tabindex="-1"></a>        showgrid<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb55-44"><a href="#cb55-44" aria-hidden="true" tabindex="-1"></a>        gridcolor<span class="op">=</span><span class="st">'rgba(211, 211, 211, 0.7)'</span>,</span>
<span id="cb55-45"><a href="#cb55-45" aria-hidden="true" tabindex="-1"></a>        griddash<span class="op">=</span><span class="st">'dash'</span>,</span>
<span id="cb55-46"><a href="#cb55-46" aria-hidden="true" tabindex="-1"></a>        gridwidth<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb55-47"><a href="#cb55-47" aria-hidden="true" tabindex="-1"></a>        <span class="bu">range</span><span class="op">=</span>[<span class="dv">0</span>, cluster_counts.values.<span class="bu">max</span>() <span class="op">*</span> <span class="fl">1.15</span>],</span>
<span id="cb55-48"><a href="#cb55-48" aria-hidden="true" tabindex="-1"></a>        titlefont<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb55-49"><a href="#cb55-49" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb55-50"><a href="#cb55-50" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">520</span>,</span>
<span id="cb55-51"><a href="#cb55-51" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">450</span>,</span>
<span id="cb55-52"><a href="#cb55-52" aria-hidden="true" tabindex="-1"></a>    plot_bgcolor<span class="op">=</span><span class="st">'white'</span>,</span>
<span id="cb55-53"><a href="#cb55-53" aria-hidden="true" tabindex="-1"></a>    font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">14</span>),</span>
<span id="cb55-54"><a href="#cb55-54" aria-hidden="true" tabindex="-1"></a>    margin<span class="op">=</span><span class="bu">dict</span>(t<span class="op">=</span><span class="dv">75</span>, b<span class="op">=</span><span class="dv">55</span>, l<span class="op">=</span><span class="dv">60</span>, r<span class="op">=</span><span class="dv">60</span>)  <span class="co"># Margens iguais para centralizar</span></span>
<span id="cb55-55"><a href="#cb55-55" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-56"><a href="#cb55-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-57"><a href="#cb55-57" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>                            <div id="3802c20d-cbd1-452e-8b72-427bc0a93ae7" class="plotly-graph-div" style="height:450px; width:520px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("3802c20d-cbd1-452e-8b72-427bc0a93ae7")) {                    Plotly.newPlot(                        "3802c20d-cbd1-452e-8b72-427bc0a93ae7",                        [{"marker":{"color":["rgb(229, 134, 6)","rgb(93, 105, 177)","rgb(82, 188, 163)"]},"text":[206.0,234.0,55.0],"textfont":{"color":"black","family":"Arial","size":12},"textposition":"outside","texttemplate":"<b>%{y}</b>","x":["Grupo 2","Grupo 1","Grupo 3"],"y":[206,234,55],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"title":{"font":{"size":20,"color":"black","family":"Arial Black"},"pad":{"b":12},"text":"Leads por Grupo","x":0.5,"xanchor":"center","y":0.97,"yanchor":"top"},"xaxis":{"tickfont":{"size":14,"color":"black"},"title":{},"tickangle":0,"type":"category"},"yaxis":{"title":{"text":"Número de Leads","font":{"size":14}},"showgrid":true,"gridcolor":"rgba(211, 211, 211, 0.7)","griddash":"dash","gridwidth":1,"range":[0,269.09999999999997]},"font":{"size":14},"margin":{"t":75,"b":55,"l":60,"r":60},"width":520,"height":450,"plot_bgcolor":"white"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('3802c20d-cbd1-452e-8b72-427bc0a93ae7');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
</section>
</section>
<section id="resumo-dos-segmentos" class="level3">
<h3 data-anchor-id="resumo-dos-segmentos"><strong>Resumo dos Segmentos</strong></h3>
<table class="caption-top table">
<colgroup>
<col style="width: 7%">
<col style="width: 6%">
<col style="width: 23%">
<col style="width: 17%">
<col style="width: 20%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>Cluster</th>
<th>Leads</th>
<th>Estilo</th>
<th>Organização</th>
<th>Investimento</th>
<th>Emoção/Comprometimento</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Grupo 1</td>
<td>234</td>
<td>Simples e íntimo</td>
<td>Ideias soltas</td>
<td>Algo simples</td>
<td>Sonham juntos, cautelosos</td>
</tr>
<tr class="even">
<td>Grupo 2</td>
<td>206</td>
<td>Encantador, mas perdido</td>
<td>Não começaram</td>
<td>Não conseguem bancar</td>
<td>Sonham, mas perdidas</td>
</tr>
<tr class="odd">
<td>Grupo 3</td>
<td>55</td>
<td>Encantador a grandioso</td>
<td>Extremamente alto</td>
<td>Conseguem bancar bem</td>
<td>Altíssimo compromisso</td>
</tr>
</tbody>
</table>
<p>A proposta de segmentação mostra claramente três perfis muito distintos, com necessidades, desejos e condições diferentes.</p>
<p>A utilização do KMeans com K=3 foi a mais adequada, pois capturou:</p>
<ul>
<li><p>Dois grandes grupos com foco em simplicidade, porém com diferenças sutis no grau de organização e insegurança.</p></li>
<li><p>Um grupo menor, mas muito valioso, de clientes de alta conversão e maior ticket médio.</p></li>
</ul>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>